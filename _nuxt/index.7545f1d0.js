import{r as Nt,C as Ve,D as Ye,E as Te,F as Ze,l as Je,G as yt,H as Xe,I as tn,J as en,o as nn,d as rn,K as on,s as Lt,t as vt,L as De,M as an,N as sn,O as Ae,P as Re,q as It,v as un}from"./entry.66aa6664.js";const cn=()=>null;function ln(...m){const D=typeof m[m.length-1]=="string"?m.pop():void 0;typeof m[0]!="string"&&m.unshift(D);let[k,U,x={}]=m;if(typeof k!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof U!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");x.server=x.server??!0,x.default=x.default??cn,x.lazy=x.lazy??!1,x.immediate=x.immediate??!0;const v=Je(),g=()=>v.isHydrating?v.payload.data[k]:v.static.data[k],_=()=>g()!==void 0;(!v._asyncData[k]||!x.immediate)&&(v._asyncData[k]={data:Nt(g()??x.default()),pending:Nt(!_()),error:Ve(v.payload._errors,k),status:Nt("idle")});const b={...v._asyncData[k]};b.refresh=b.execute=(f={})=>{if(v._asyncDataPromises[k]){if(f.dedupe===!1)return v._asyncDataPromises[k];v._asyncDataPromises[k].cancelled=!0}if((f._initial||v.isHydrating&&f._initial!==!1)&&_())return g();b.pending.value=!0,b.status.value="pending";const c=new Promise((o,i)=>{try{o(U(v))}catch(t){i(t)}}).then(o=>{if(c.cancelled)return v._asyncDataPromises[k];let i=o;x.transform&&(i=x.transform(o)),x.pick&&(i=fn(i,x.pick)),b.data.value=i,b.error.value=null,b.status.value="success"}).catch(o=>{if(c.cancelled)return v._asyncDataPromises[k];b.error.value=o,b.data.value=yt(x.default()),b.status.value="error"}).finally(()=>{c.cancelled||(b.pending.value=!1,v.payload.data[k]=b.data.value,b.error.value&&(v.payload._errors[k]=Xe(b.error.value)),delete v._asyncDataPromises[k])});return v._asyncDataPromises[k]=c,v._asyncDataPromises[k]};const S=()=>b.refresh({_initial:!0}),E=x.server!==!1&&v.payload.serverRendered;{const f=tn();if(f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const o=f._nuxtOnBeforeMountCbs;f&&(Ye(()=>{o.forEach(i=>{i()}),o.splice(0,o.length)}),Te(()=>o.splice(0,o.length)))}E&&v.isHydrating&&_()?(b.pending.value=!1,b.status.value=b.error.value?"error":"success"):f&&(v.payload.serverRendered&&v.isHydrating||x.lazy)&&x.immediate?f._nuxtOnBeforeMountCbs.push(S):x.immediate&&S(),x.watch&&Ze(x.watch,()=>b.refresh());const c=v.hook("app:data:refresh",o=>{if(!o||o.includes(k))return b.refresh()});f&&Te(c)}const w=Promise.resolve(v._asyncDataPromises[k]).then(()=>b);return Object.assign(w,b),w}function fn(m,D){const k={};for(const U of D)k[U]=m[U];return k}var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Ie={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(m,D){(function(k,U){m.exports=U()})(Wt,()=>{return k={957:function(x){x.exports=function(v){var g={};function _(b){if(g[b])return g[b].exports;var S=g[b]={i:b,l:!1,exports:{}};return v[b].call(S.exports,S,S.exports,_),S.l=!0,S.exports}return _.m=v,_.c=g,_.d=function(b,S,E){_.o(b,S)||Object.defineProperty(b,S,{configurable:!1,enumerable:!0,get:E})},_.n=function(b){var S=b&&b.__esModule?function(){return b.default}:function(){return b};return _.d(S,"a",S),S},_.o=function(b,S){return Object.prototype.hasOwnProperty.call(b,S)},_.p="",_(_.s="./src/index.js")}({"./src/index.js":function(v,g,_){Object.defineProperty(g,"__esModule",{value:!0});var b={};function S(n){return Object.prototype.toString.call(n)==="[object RegExp]"}_.d(b,"cleanUpWindow",function(){return Pe}),_.d(b,"Promise",function(){return rt}),_.d(b,"bridge",function(){return Se}),_.d(b,"init",function(){return Zt}),_.d(b,"parent",function(){return Oe}),_.d(b,"send",function(){return Et}),_.d(b,"request",function(){return Yt}),_.d(b,"sendToParent",function(){return ge}),_.d(b,"client",function(){return me}),_.d(b,"on",function(){return kt}),_.d(b,"listen",function(){return Ft}),_.d(b,"once",function(){return we}),_.d(b,"listener",function(){return be}),_.d(b,"CONFIG",function(){return $}),_.d(b,"CONSTANTS",function(){return j}),_.d(b,"disable",function(){return Ee});var E="mock:",w="file:",f="about:",c=`Call was rejected by callee.\r
`;function o(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).location.protocol===f}function i(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(n)try{if(n.parent&&n.parent!==n)return n.parent}catch{}}function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(n&&!i(n))try{return n.opener}catch{}}function a(n){try{return n&&n.location&&n.location.href,!0}catch{}return!1}function s(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window,r=n.location;if(!r)throw new Error("Can not read window location");var h=r.protocol;if(!h)throw new Error("Can not read window protocol");if(h===w)return w+"//";if(h===f){var p=i(n);return p&&a(p)?s(p):f+"//"}var O=r.host;if(!O)throw new Error("Can not read window host");return h+"//"+O}function l(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window,r=s(n);return r&&n.mockDomain&&n.mockDomain.indexOf(E)===0?n.mockDomain:r}function e(n){try{if(n===window)return!0}catch{}try{var r=Object.getOwnPropertyDescriptor(n,"location");if(r&&r.enumerable===!1)return!1}catch{}try{if(o(n)&&a(n))return!0}catch{}try{if(s(n)===s(window))return!0}catch{}return!1}function u(n,r){if(!n||!r)return!1;var h=i(r);return h?h===n:function(p){var O=[];try{for(;p.parent!==p;)O.push(p.parent),p=p.parent}catch{}return O}(r).indexOf(n)!==-1}function d(n){var r=[],h=void 0;try{h=n.frames}catch{h=n}var p=void 0;try{p=h.length}catch{}if(p===0)return r;if(p){for(var O=0;O<p;O++){var T=void 0;try{T=h[O]}catch{continue}r.push(T)}return r}for(var A=0;A<100;A++){var C=void 0;try{C=h[A]}catch{return r}if(!C)return r;r.push(C)}return r}var y=[],P=[];function R(n){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{if(n===window)return!1}catch{return!0}try{if(!n)return!0}catch{return!0}try{if(n.closed)return!0}catch(O){return!O||O.message!==c}if(r&&function(O){if(!e(O))return!1;try{if(O===window||o(O)&&a(O)||l(window)===l(O))return!0}catch{}return!1}(n))try{if(n.mockclosed)return!0}catch{}try{if(!n.parent||!n.top)return!0}catch{}var h=function(O,T){for(var A=0;A<O.length;A++)try{if(O[A]===T)return A}catch{}return-1}(y,n);if(h!==-1){var p=P[h];if(p&&function(O){if(!O.contentWindow||!O.parentNode)return!0;var T=O.ownerDocument;return!(!T||!T.documentElement||T.documentElement.contains(O))}(p))return!0}return!1}function L(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return t(n=n||window)||i(n)||void 0}function I(n,r){if(typeof n=="string"){if(typeof r=="string")return n==="*"||r===n;if(S(r)||Array.isArray(r))return!1}return S(n)?S(r)?n.toString()===r.toString():!Array.isArray(r)&&!!r.match(n):!!Array.isArray(n)&&(Array.isArray(r)?JSON.stringify(n)===JSON.stringify(r):!S(r)&&n.some(function(h){return I(h,r)}))}function J(n){try{if(n===window)return!0}catch(r){if(r&&r.message===c)return!0}try{if(Object.prototype.toString.call(n)==="[object Window]")return!0}catch(r){if(r&&r.message===c)return!0}try{if(window.Window&&n instanceof window.Window)return!0}catch(r){if(r&&r.message===c)return!0}try{if(n&&n.self===n)return!0}catch(r){if(r&&r.message===c)return!0}try{if(n&&n.parent===n)return!0}catch(r){if(r&&r.message===c)return!0}try{if(n&&n.top===n)return!0}catch(r){if(r&&r.message===c)return!0}try{if(n&&n.__cross_domain_utils_window_check__==="__unlikely_value__")return!1}catch{return!0}return!1}function M(n,r){for(var h=0;h<n.length;h++)try{if(n[h]===r)return h}catch{}return-1}var F,Z=function(){function n(){if(function(r,h){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if(typeof WeakMap>"u"||Object.freeze===void 0)return!1;try{var r=new WeakMap,h={};return Object.freeze(h),r.set(h,"__testvalue__"),r.get(h)==="__testvalue__"}catch{return!1}}())try{this.weakmap=new WeakMap}catch{}this.keys=[],this.values=[]}return n.prototype._cleanupClosedWindows=function(){for(var r=this.weakmap,h=this.keys,p=0;p<h.length;p++){var O=h[p];if(J(O)&&R(O)){if(r)try{r.delete(O)}catch{}h.splice(p,1),this.values.splice(p,1),p-=1}}},n.prototype.isSafeToReadWrite=function(r){if(J(r))return!1;try{r&&r.self,r&&r[this.name]}catch{return!1}return!0},n.prototype.set=function(r,h){if(!r)throw new Error("WeakMap expected key");var p=this.weakmap;if(p)try{p.set(r,h)}catch{delete this.weakmap}if(this.isSafeToReadWrite(r))try{var O=this.name,T=r[O];return void(T&&T[0]===r?T[1]=h:Object.defineProperty(r,O,{value:[r,h],writable:!0}))}catch{}this._cleanupClosedWindows();var A=this.keys,C=this.values,W=M(A,r);W===-1?(A.push(r),C.push(h)):C[W]=h},n.prototype.get=function(r){if(!r)throw new Error("WeakMap expected key");var h=this.weakmap;if(h)try{if(h.has(r))return h.get(r)}catch{delete this.weakmap}if(this.isSafeToReadWrite(r))try{var p=r[this.name];return p&&p[0]===r?p[1]:void 0}catch{}this._cleanupClosedWindows();var O=M(this.keys,r);if(O!==-1)return this.values[O]},n.prototype.delete=function(r){if(!r)throw new Error("WeakMap expected key");var h=this.weakmap;if(h)try{h.delete(r)}catch{delete this.weakmap}if(this.isSafeToReadWrite(r))try{var p=r[this.name];p&&p[0]===r&&(p[0]=p[1]=void 0)}catch{}this._cleanupClosedWindows();var O=this.keys,T=M(O,r);T!==-1&&(O.splice(T,1),this.values.splice(T,1))},n.prototype.has=function(r){if(!r)throw new Error("WeakMap expected key");var h=this.weakmap;if(h)try{if(h.has(r))return!0}catch{delete this.weakmap}if(this.isSafeToReadWrite(r))try{var p=r[this.name];return!(!p||p[0]!==r)}catch{}return this._cleanupClosedWindows(),M(this.keys,r)!==-1},n.prototype.getOrSet=function(r,h){if(this.has(r))return this.get(r);var p=h();return this.set(r,p),p},n}(),j={POST_MESSAGE_TYPE:{REQUEST:"postrobot_message_request",RESPONSE:"postrobot_message_response",ACK:"postrobot_message_ack"},POST_MESSAGE_ACK:{SUCCESS:"success",ERROR:"error"},POST_MESSAGE_NAMES:{METHOD:"postrobot_method",HELLO:"postrobot_ready",OPEN_TUNNEL:"postrobot_open_tunnel"},WINDOW_TYPES:{FULLPAGE:"fullpage",POPUP:"popup",IFRAME:"iframe"},WINDOW_PROPS:{POSTROBOT:"__postRobot__"},SERIALIZATION_TYPES:{METHOD:"postrobot_method",ERROR:"postrobot_error",PROMISE:"postrobot_promise",ZALGO_PROMISE:"postrobot_zalgo_promise",REGEX:"regex"},SEND_STRATEGIES:{POST_MESSAGE:"postrobot_post_message",BRIDGE:"postrobot_bridge",GLOBAL:"postrobot_global"},MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",BRIDGE_NAME_PREFIX:"__postrobot_bridge__",POSTROBOT_PROXY:"__postrobot_proxy__",WILDCARD:"*"},tt={METHOD:"postrobot_method",HELLO:"postrobot_hello",OPEN_TUNNEL:"postrobot_open_tunnel"},$=(Object.keys(tt).map(function(n){return tt[n]}),{ALLOW_POSTMESSAGE_POPUP:!("__ALLOW_POSTMESSAGE_POPUP__"in window)||window.__ALLOW_POSTMESSAGE_POPUP__,BRIDGE_TIMEOUT:5e3,CHILD_WINDOW_TIMEOUT:5e3,ACK_TIMEOUT:window.navigator.userAgent.match(/MSIE/i)!==-1?1e4:2e3,RES_TIMEOUT:-1,ALLOWED_POST_MESSAGE_METHODS:(F={},F[j.SEND_STRATEGIES.POST_MESSAGE]=!0,F[j.SEND_STRATEGIES.BRIDGE]=!0,F[j.SEND_STRATEGIES.GLOBAL]=!0,F),ALLOW_SAME_ORIGIN:!1});window.location.href.indexOf(j.FILE_PROTOCOL)===0&&($.ALLOW_POSTMESSAGE_POPUP=!0);var z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function H(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(r>=3)return"stringifyError stack overflow";try{if(!n)return"<unknown error: "+Object.prototype.toString.call(n)+">";if(typeof n=="string")return n;if(n instanceof Error){var h=n&&n.stack,p=n&&n.message;if(h&&p)return h.indexOf(p)!==-1?h:p+`
`+h;if(h)return h;if(p)return p}return typeof n.toString=="function"?n.toString():Object.prototype.toString.call(n)}catch(O){return"Error while stringifying error: "+H(O,r+1)}}var et=function(n){if(!n)return n;var r=!1;return function(){if(!r)return r=!0,n.apply(this,arguments)}};function V(){}function ot(){var n="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,function(){return n.charAt(Math.floor(Math.random()*n.length))})}function st(n,r){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(h>=100)throw new Error("Self-referential object passed, or object contained too many layers");var p=void 0;if((n===void 0?"undefined":z(n))!=="object"||n===null||Array.isArray(n)){if(!Array.isArray(n))throw new TypeError("Invalid type: "+(n===void 0?"undefined":z(n)));p=[]}else p={};return function(O,T){Array.isArray(O)?function(A,C){for(var W=0;W<A.length;W++)C(A[W],W)}(O,T):(O===void 0?"undefined":z(O))==="object"&&O!==null&&function(A,C){for(var W in A)A.hasOwnProperty(W)&&C(A[W],W)}(O,T)}(n,function(O,T){var A=r(O,T);A!==void 0?p[T]=A:(O===void 0?"undefined":z(O))==="object"&&O!==null?p[T]=st(O,r,h+1):p[T]=O}),p}function K(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function lt(n){try{if(!n)return!1;if(typeof Promise<"u"&&n instanceof Promise)return!0;if(typeof window<"u"&&typeof window.Window=="function"&&n instanceof window.Window||typeof window<"u"&&typeof window.constructor=="function"&&n instanceof window.constructor)return!1;var r={}.toString;if(r){var h=r.call(n);if(h==="[object Window]"||h==="[object global]"||h==="[object DOMWindow]")return!1}if(typeof n.then=="function")return!0}catch{return!1}return!1}var oe=[],Tt=[],zt=0,Dt=void 0;function ie(){if(!zt&&Dt){var n=Dt;Dt=null,n.resolve()}}function Kt(){zt+=1}function At(){zt-=1,ie()}var rt=function(){function n(r){var h=this;if(function(W,B){if(!(W instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],r){var p=void 0,O=void 0,T=!1,A=!1,C=!1;Kt();try{r(function(W){C?h.resolve(W):(T=!0,p=W)},function(W){C?h.reject(W):(A=!0,O=W)})}catch(W){return At(),void this.reject(W)}At(),C=!0,T?this.resolve(p):A&&this.reject(O)}}return n.prototype.resolve=function(r){if(this.resolved||this.rejected)return this;if(lt(r))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=r,this.dispatch(),this},n.prototype.reject=function(r){var h=this;if(this.resolved||this.rejected)return this;if(lt(r))throw new Error("Can not reject promise with another promise");if(!r){var p=r&&typeof r.toString=="function"?r.toString():Object.prototype.toString.call(r);r=new Error("Expected reject to be called with Error, got "+p)}return this.rejected=!0,this.error=r,this.errorHandled||setTimeout(function(){h.errorHandled||function(O,T){if(oe.indexOf(O)===-1){oe.push(O),setTimeout(function(){throw O},1);for(var A=0;A<Tt.length;A++)Tt[A](O,T)}}(r,h)},1),this.dispatch(),this},n.prototype.asyncReject=function(r){return this.errorHandled=!0,this.reject(r),this},n.prototype.dispatch=function(){var r=this.dispatching,h=this.resolved,p=this.rejected,O=this.handlers;if(!r&&(h||p)){this.dispatching=!0,Kt();for(var T=function(Y,Q){return Y.then(function(X){Q.resolve(X)},function(X){Q.reject(X)})},A=0;A<O.length;A++){var C=O[A],W=C.onSuccess,B=C.onError,G=C.promise,N=void 0;if(h)try{N=W?W(this.value):this.value}catch(Y){G.reject(Y);continue}else if(p){if(!B){G.reject(this.error);continue}try{N=B(this.error)}catch(Y){G.reject(Y);continue}}N instanceof n&&(N.resolved||N.rejected)?(N.resolved?G.resolve(N.value):G.reject(N.error),N.errorHandled=!0):lt(N)?N instanceof n&&(N.resolved||N.rejected)?N.resolved?G.resolve(N.value):G.reject(N.error):T(N,G):G.resolve(N)}O.length=0,this.dispatching=!1,At()}},n.prototype.then=function(r,h){if(r&&typeof r!="function"&&!r.call)throw new Error("Promise.then expected a function for success handler");if(h&&typeof h!="function"&&!h.call)throw new Error("Promise.then expected a function for error handler");var p=new n;return this.handlers.push({promise:p,onSuccess:r,onError:h}),this.errorHandled=!0,this.dispatch(),p},n.prototype.catch=function(r){return this.then(void 0,r)},n.prototype.finally=function(r){if(r&&typeof r!="function"&&!r.call)throw new Error("Promise.finally expected a function");return this.then(function(h){return n.try(r).then(function(){return h})},function(h){return n.try(r).then(function(){throw h})})},n.prototype.timeout=function(r,h){var p=this;if(this.resolved||this.rejected)return this;var O=setTimeout(function(){p.resolved||p.rejected||p.reject(h||new Error("Promise timed out after "+r+"ms"))},r);return this.then(function(T){return clearTimeout(O),T})},n.prototype.toPromise=function(){if(typeof Promise>"u")throw new TypeError("Could not find Promise");return Promise.resolve(this)},n.resolve=function(r){return r instanceof n?r:lt(r)?new n(function(h,p){return r.then(h,p)}):new n().resolve(r)},n.reject=function(r){return new n().reject(r)},n.asyncReject=function(r){return new n().asyncReject(r)},n.all=function(r){var h=new n,p=r.length,O=[];if(!p)return h.resolve(O),h;for(var T=function(W,B,G){return B.then(function(N){O[W]=N,(p-=1)==0&&h.resolve(O)},function(N){G.reject(N)})},A=0;A<r.length;A++){var C=r[A];if(C instanceof n){if(C.resolved){O[A]=C.value,p-=1;continue}}else if(!lt(C)){O[A]=C,p-=1;continue}T(A,n.resolve(C),h)}return p===0&&h.resolve(O),h},n.hash=function(r){var h={};return n.all(Object.keys(r).map(function(p){return n.resolve(r[p]).then(function(O){h[p]=O})})).then(function(){return h})},n.map=function(r,h){return n.all(r.map(h))},n.onPossiblyUnhandledException=function(r){return function(h){return Tt.push(h),{cancel:function(){Tt.splice(Tt.indexOf(h),1)}}}(r)},n.try=function(r,h,p){if(r&&typeof r!="function"&&!r.call)throw new Error("Promise.try expected a function");var O=void 0;Kt();try{O=r.apply(h,p||[])}catch(T){return At(),n.reject(T)}return At(),n.resolve(O)},n.delay=function(r){return new n(function(h){setTimeout(h,r)})},n.isPromise=function(r){return!!(r&&r instanceof n)||lt(r)},n.flush=function(){return r=Dt=Dt||new n,ie(),r;var r},n}(),q=window[j.WINDOW_PROPS.POSTROBOT]=window[j.WINDOW_PROPS.POSTROBOT]||{};q.registerSelf=function(){};var ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};q.methods=q.methods||new Z;var ze=et(function(){q.on(j.POST_MESSAGE_NAMES.METHOD,{origin:j.WILDCARD},function(n){var r=n.source,h=n.origin,p=n.data,O=q.methods.get(r);if(!O)throw new Error("Could not find any methods this window has privileges to call");var T=O[p.id];if(!T)throw new Error("Could not find method with id: "+p.id);if(!I(T.domain,h))throw new Error("Method domain "+T.domain+" does not match origin "+h);return rt.try(function(){return T.method.apply({source:r,origin:h,data:p},p.args)}).then(function(A){return{result:A,id:p.id,name:p.name}})})});function Rt(n,r){return(n===void 0?"undefined":ae(n))==="object"&&n!==null&&n.__type__===r}function Qt(n,r,h,p){var O=ot(),T=q.methods.get(n);return T||(T={},q.methods.set(n,T)),T[O]={domain:r,method:h},{__type__:j.SERIALIZATION_TYPES.METHOD,__id__:O,__name__:p}}function $t(n,r,h){function p(){var O=Array.prototype.slice.call(arguments);return q.send(n,j.POST_MESSAGE_NAMES.METHOD,{id:h.__id__,name:h.__name__,args:O},{domain:r,timeout:-1}).then(function(T){return T.data.result},function(T){throw T})}return p.__name__=h.__name__,p.__xdomain__=!0,p.source=n,p.origin=r,p}function se(n,r,h){return new rt(function(p,O){return $t(n,r,h.__then__)(p,O)})}function ue(n){return q.send(n,j.POST_MESSAGE_NAMES.HELLO,{},{domain:j.WILDCARD,timeout:-1}).then(function(r){return{origin:r.origin}})}q.readyPromises=q.readyPromises||new Z;var Vt={};Vt[j.SEND_STRATEGIES.POST_MESSAGE]=function(n,r,h){(Array.isArray(h)?h:typeof h=="string"?[h]:[j.WILDCARD]).map(function(p){if(p.indexOf(j.MOCK_PROTOCOL)===0){if(window.location.protocol===j.FILE_PROTOCOL)return j.WILDCARD;if(!e(n))throw new Error("Attempting to send messsage to mock domain "+p+", but window is actually cross-domain");return s(n)}return p.indexOf(j.FILE_PROTOCOL)===0?j.WILDCARD:p}).forEach(function(p){return n.postMessage(r,p)})};var Ke=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var h=arguments[r];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(n[p]=h[p])}return n};function ce(n,r,h){return rt.try(function(){var p;if(r=function(A,C){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=ot(),G=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!t(Y)}()?j.WINDOW_TYPES.POPUP:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!i(Y)}()?j.WINDOW_TYPES.IFRAME:j.WINDOW_TYPES.FULLPAGE,N=l(window);return Ke({},C,W,{sourceDomain:N,id:C.id||B,windowType:G})}(n,r,{data:function(A,C,W){return st({obj:r.data},function(B,G){return typeof B=="function"?Qt(A,C,B,G.toString()):B instanceof Error?(N=B,{__type__:j.SERIALIZATION_TYPES.ERROR,__message__:H(N),__code__:N.code}):window.Promise&&B instanceof window.Promise?function(Q,X,ut,nt){return{__type__:j.SERIALIZATION_TYPES.PROMISE,__then__:Qt(Q,X,function(it,at){return ut.then(it,at)},nt+".then")}}(A,C,B,G.toString()):rt.isPromise(B)?function(Q,X,ut,nt){return{__type__:j.SERIALIZATION_TYPES.ZALGO_PROMISE,__then__:Qt(Q,X,function(it,at){return ut.then(it,at)},nt+".then")}}(A,C,B,G.toString()):K(B)?(Y=B,{__type__:j.SERIALIZATION_TYPES.REGEX,__source__:Y.source}):void 0;var N,Y}).obj}(n,h),domain:h}),n===window&&!$.ALLOW_SAME_ORIGIN)throw new Error("Attemping to send message to self");if(R(n))throw new Error("Window is closed");var O=[],T=function(A,C,W){var B=void 0,G=void 0;try{if(JSON.stringify({})!=="{}"&&(B=Object.prototype.toJSON,delete Object.prototype.toJSON),JSON.stringify({})!=="{}")throw new Error("Can not correctly serialize JSON objects");if(JSON.stringify([])!=="[]"&&(G=Array.prototype.toJSON,delete Array.prototype.toJSON),JSON.stringify([])!=="[]")throw new Error("Can not correctly serialize JSON objects")}catch(Y){throw new Error("Can not repair JSON.stringify: "+Y.message)}var N=JSON.stringify.call(this,A,null,2);try{B&&(Object.prototype.toJSON=B),G&&(Array.prototype.toJSON=G)}catch(Y){throw new Error("Can not repair JSON.stringify: "+Y.message)}return N}(((p={})[j.WINDOW_PROPS.POSTROBOT]=r,p));return rt.map(Object.keys(Vt),function(A){return rt.try(function(){if(!$.ALLOWED_POST_MESSAGE_METHODS[A])throw new Error("Strategy disallowed: "+A);return Vt[A](n,T,h)}).then(function(){return O.push(A+": success"),!0},function(C){return O.push(A+": "+H(C)+`
`),!1})}).then(function(A){var C=A.some(Boolean),W=r.type+" "+r.name+" "+(C?"success":"error")+`:
  - `+O.join(`
  - `)+`
`;if(!C)throw new Error(W)})})}q.responseListeners=q.responseListeners||{},q.requestListeners=q.requestListeners||{},q.WINDOW_WILDCARD=q.WINDOW_WILDCARD||new function(){},q.erroredResponseListeners=q.erroredResponseListeners||{};var Gt;function le(n){return q.responseListeners[n]}function fe(n){delete q.responseListeners[n]}function de(n){return!!q.erroredResponseListeners[n]}function he(n){var r=n.name,h=n.win,p=n.domain;if(h===j.WILDCARD&&(h=null),p===j.WILDCARD&&(p=null),!r)throw new Error("Name required to get request listener");var O=q.requestListeners[r];if(O)for(var T=0,A=[h,q.WINDOW_WILDCARD],C=A==null?0:A.length;T<C;T++){var W=A[T],B=W&&O.get(W);if(B){if(p&&typeof p=="string"){if(B[p])return B[p];if(B.__domain_regex__)for(var G=0,N=B.__domain_regex__,Y=N==null?0:N.length;G<Y;G++){var Q=N[G],X=Q.regex,ut=Q.listener;if(I(X,p))return ut}}if(B[j.WILDCARD])return B[j.WILDCARD]}}}var Qe=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var h=arguments[r];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(n[p]=h[p])}return n},pe=((Gt={})[j.POST_MESSAGE_TYPE.ACK]=function(n,r,h){if(!de(h.hash)){var p=le(h.hash);if(!p)throw new Error("No handler found for post message ack for message: "+h.name+" from "+r+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!I(p.domain,r))throw new Error("Ack origin "+r+" does not match domain "+p.domain.toString());p.ack=!0}},Gt[j.POST_MESSAGE_TYPE.REQUEST]=function(n,r,h){var p=he({name:h.name,win:n,domain:r});function O(T){return h.fireAndForget||R(n)?rt.resolve():ce(n,Qe({target:h.originalSource,hash:h.hash,name:h.name},T),r)}return rt.all([O({type:j.POST_MESSAGE_TYPE.ACK}),rt.try(function(){if(!p)throw new Error("No handler found for post message: "+h.name+" from "+r+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!I(p.domain,r))throw new Error("Request origin "+r+" does not match domain "+p.domain.toString());var T=h.data;return p.handler({source:n,origin:r,data:T})}).then(function(T){return O({type:j.POST_MESSAGE_TYPE.RESPONSE,ack:j.POST_MESSAGE_ACK.SUCCESS,data:T})},function(T){var A=H(T).replace(/^Error: /,""),C=T.code;return O({type:j.POST_MESSAGE_TYPE.RESPONSE,ack:j.POST_MESSAGE_ACK.ERROR,error:A,code:C})})]).then(V).catch(function(T){if(p&&p.handleError)return p.handleError(T);throw T})},Gt[j.POST_MESSAGE_TYPE.RESPONSE]=function(n,r,h){if(!de(h.hash)){var p,O=le(h.hash);if(!O)throw new Error("No handler found for post message response for message: "+h.name+" from "+r+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!I(O.domain,r))throw new Error("Response origin "+r+" does not match domain "+(p=O.domain,Array.isArray(p)?"("+p.join(" | ")+")":S(p)?"RegExp("+p.toString():p.toString()));if(fe(h.hash),h.ack===j.POST_MESSAGE_ACK.ERROR){var T=new Error(h.error);return h.code&&(T.code=h.code),O.respond(T,null)}if(h.ack===j.POST_MESSAGE_ACK.SUCCESS){var A=h.data||h.response;return O.respond(null,{source:n,origin:r,data:A})}}},Gt),ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function _e(n){if(window&&!window.closed){try{if(!n.source)return}catch{return}var r=n.source,h=n.origin,p=function(O){var T,A=void 0;try{T=O,A=JSON.parse(T)}catch{return}if(A&&(A===void 0?"undefined":ye(A))==="object"&&A!==null&&(A=A[j.WINDOW_PROPS.POSTROBOT])&&(A===void 0?"undefined":ye(A))==="object"&&A!==null&&A.type&&typeof A.type=="string"&&pe[A.type])return A}(n.data);if(p){if(!p.sourceDomain||typeof p.sourceDomain!="string")throw new Error("Expected message to have sourceDomain");p.sourceDomain.indexOf(j.MOCK_PROTOCOL)!==0&&p.sourceDomain.indexOf(j.FILE_PROTOCOL)!==0||(h=p.sourceDomain),q.receivedMessages.indexOf(p.id)===-1&&(q.receivedMessages.push(p.id),R(r)&&!p.fireAndForget||(p.data&&(p.data=function(O,T,A){return st({obj:p.data},function(C){if((C===void 0?"undefined":ae(C))==="object"&&C!==null)return Rt(C,j.SERIALIZATION_TYPES.METHOD)?$t(O,T,C):Rt(C,j.SERIALIZATION_TYPES.ERROR)?function(W,B,G){var N=new Error(G.__message__);return G.__code__&&(N.code=G.__code__),N}(0,0,C):Rt(C,j.SERIALIZATION_TYPES.PROMISE)?function(W,B,G){return window.Promise?new window.Promise(function(N,Y){return $t(W,B,G.__then__)(N,Y)}):se(W,B,G)}(O,T,C):Rt(C,j.SERIALIZATION_TYPES.ZALGO_PROMISE)?se(O,T,C):Rt(C,j.SERIALIZATION_TYPES.REGEX)?function(W,B,G){return new RegExp(G.__source__)}(0,0,C):void 0}).obj}(r,h)),pe[p.type](r,h,p)))}}}function ve(n){try{n.source}catch{return}_e({source:n.source||n.sourceElement,origin:n.origin||n.originalEvent&&n.originalEvent.origin,data:n.data})}function Yt(n){return rt.try(function(){if(!n.name)throw new Error("Expected options.name");var r=n.name,h=void 0,p=void 0;if(typeof n.window=="string"){var O=document.getElementById(n.window);if(!O)throw new Error("Expected options.window "+Object.prototype.toString.call(n.window)+" to be a valid element id");if(O.tagName.toLowerCase()!=="iframe")throw new Error("Expected options.window "+Object.prototype.toString.call(n.window)+" to be an iframe");if(!O.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");h=O.contentWindow}else if(n.window instanceof HTMLIFrameElement){if(n.window.tagName.toLowerCase()!=="iframe")throw new Error("Expected options.window "+Object.prototype.toString.call(n.window)+" to be an iframe");if(n.window&&!n.window.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");n.window&&n.window.contentWindow&&(h=n.window.contentWindow)}else h=n.window;if(!h)throw new Error("Expected options.window to be a window object, iframe, or iframe element id.");var T=h;p=n.domain||j.WILDCARD;var A=n.name+"_"+ot();if(R(T))throw new Error("Target window is closed");var C=!1,W=q.requestPromises.get(T);W||(W=[],q.requestPromises.set(T,W));var B=rt.try(function(){if(function(G,N){var Y=L(N);if(Y)return Y===G;if(N===G||function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;try{if(nt.top)return nt.top}catch{}if(i(nt)===nt)return nt;try{if(u(window,nt)&&window.top)return window.top}catch{}try{if(u(nt,window)&&window.top)return window.top}catch{}for(var it=0,at=function ht(jt){for(var Mt=[],xt=0,Ct=d(jt),Ut=Ct==null?0:Ct.length;xt<Ut;xt++){var pt=Ct[xt];Mt.push(pt);for(var ct=0,Ot=ht(pt),_t=Ot==null?0:Ot.length;ct<_t;ct++){var Pt=Ot[ct];Mt.push(Pt)}}return Mt}(nt),gt=at==null?0:at.length;it<gt;it++){var ft=at[it];try{if(ft.top)return ft.top}catch{}if(i(ft)===ft)return ft}}(N)===N)return!1;for(var Q=0,X=d(G),ut=X==null?0:X.length;Q<ut;Q++)if(X[Q]===N)return!0;return!1}(window,T))return function(G){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Window",Q=q.readyPromises.get(G);return Q||(Q=new rt,q.readyPromises.set(G,Q),N!==-1&&setTimeout(function(){return Q.reject(new Error(Y+" did not load after "+N+"ms"))},N),Q)}(T,n.timeout||$.CHILD_WINDOW_TIMEOUT)}).then(function(){var G=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).origin;if(K(p)&&!G)return ue(T)}).then(function(){var G=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).origin;if(K(p)){if(!I(p,G))throw new Error("Remote window domain "+G+" does not match regex: "+p.toString());p=G}if(typeof p!="string"&&!Array.isArray(p))throw new TypeError("Expected domain to be a string or array");var N=p;return new rt(function(Y,Q){var X=void 0;if(n.fireAndForget||function(at,gt){q.responseListeners[at]=gt}(A,X={name:r,window:T,domain:N,respond:function(at,gt){at||(C=!0,W.splice(W.indexOf(B,1))),at?Q(at):Y(gt)}}),ce(T,{type:j.POST_MESSAGE_TYPE.REQUEST,hash:A,name:r,data:n.data,fireAndForget:n.fireAndForget},N).catch(Q),n.fireAndForget)return Y();var ut=$.ACK_TIMEOUT,nt=n.timeout||$.RES_TIMEOUT,it=100;setTimeout(function at(){if(!C){if(R(T))return X.ack?Q(new Error("Window closed for "+r+" before response")):Q(new Error("Window closed for "+r+" before ack"));if(ut=Math.max(ut-it,0),nt!==-1&&(nt=Math.max(nt-it,0)),X.ack){if(nt===-1)return;it=Math.min(nt,2e3)}else{if(ut===0)return Q(new Error("No ack for postMessage "+r+" in "+l()+" in "+$.ACK_TIMEOUT+"ms"));if(nt===0)return Q(new Error("No response for postMessage "+r+" in "+l()+" in "+(n.timeout||$.RES_TIMEOUT)+"ms"))}setTimeout(at,it)}},it)})});return B.catch(function(){(function(G){q.erroredResponseListeners[G]=!0})(A),fe(A)}),W.push(B),B})}function Et(n,r,h,p){return(p=p||{}).window=n,p.name=r,p.data=h,Yt(p)}function ge(n,r,h){var p=L();return p?Et(p,n,r,h):new rt(function(O,T){return T(new Error("Window does not have a parent"))})}function me(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!n.window)throw new Error("Expected options.window");var r=n.window;return{send:function(h,p){return Et(r,h,p,n)}}}q.receivedMessages=q.receivedMessages||[],q.receiveMessage=_e,q.requestPromises=q.requestPromises||new Z,q.send=Et;var $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function Ft(n){if(!n.name)throw new Error("Expected options.name");if(!n.handler)throw new Error("Expected options.handler");var r,h=n.name,p=n.window,O=n.domain,T={handler:n.handler,handleError:n.errorHandler||function(B){throw B},window:p,domain:O||j.WILDCARD,name:h},A=function B(G,N){var Y=G.name,Q=G.win,X=G.domain;if(!Y||typeof Y!="string")throw new Error("Name required to add request listener");if(Array.isArray(Q)){for(var ut=[],nt=0,it=Q,at=it==null?0:it.length;nt<at;nt++){var gt=it[nt];ut.push(B({name:Y,domain:X,win:gt},N))}return{cancel:function(){for(var mt=0,Jt=ut==null?0:ut.length;mt<Jt;mt++)ut[mt].cancel()}}}if(Array.isArray(X)){for(var ft=[],ht=0,jt=X,Mt=jt==null?0:jt.length;ht<Mt;ht++){var xt=jt[ht];ft.push(B({name:Y,win:Q,domain:xt},N))}return{cancel:function(){for(var mt=0,Jt=ft==null?0:ft.length;mt<Jt;mt++)ft[mt].cancel()}}}var Ct=he({name:Y,win:Q,domain:X});if(Q&&Q!==j.WILDCARD||(Q=q.WINDOW_WILDCARD),X=X||j.WILDCARD,Ct)throw Q&&X?new Error("Request listener already exists for "+Y+" on domain "+X.toString()+" for "+(Q===q.WINDOW_WILDCARD?"wildcard":"specified")+" window"):Q?new Error("Request listener already exists for "+Y+" for "+(Q===q.WINDOW_WILDCARD?"wildcard":"specified")+" window"):X?new Error("Request listener already exists for "+Y+" on domain "+X.toString()):new Error("Request listener already exists for "+Y);var Ut=q.requestListeners,pt=Ut[Y];pt||(pt=new Z,Ut[Y]=pt);var ct=pt.get(Q);ct||(ct={},pt.set(Q,ct));var Ot=X.toString(),_t=ct.__domain_regex__,Pt=void 0;return K(X)?(_t||(_t=[],ct.__domain_regex__=_t),Pt={regex:X,listener:N},_t.push(Pt)):ct[Ot]=N,{cancel:function(){ct&&(delete ct[Ot],Q&&Object.keys(ct).length===0&&pt.delete(Q),Pt&&_t.splice(_t.indexOf(Pt,1)))}}}({name:h,win:p,domain:O},T);if(n.once){var C=T.handler;T.handler=et(function(){return A.cancel(),C.apply(this,arguments)})}if(T.window&&n.errorOnClose)var W=(r=void 0,r=setTimeout(function B(){r=setTimeout(B,50),(function(){p&&(p===void 0?"undefined":$e(p))==="object"&&R(p)&&(W.cancel(),T.handleError(new Error("Post message target window is closed")))}).call()},50),{cancel:function(){clearTimeout(r)}});return{cancel:function(){A.cancel()}}}function kt(n,r,h){return typeof r=="function"&&(h=r,r={}),(r=r||{}).name=n,r.handler=h||r.handler,Ft(r)}function we(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments[2];typeof r=="function"&&(h=r,r={}),r=r||{},h=h||r.handler;var p=r.errorHandler,O=new rt(function(A,C){(r=r||{}).name=n,r.once=!0,r.handler=function(W){if(A(W),h)return h(W)},r.errorHandler=function(W){if(C(W),p)return p(W)}}),T=Ft(r);return O.cancel=T.cancel,O}function be(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{on:function(r,h){return kt(r,n,h)}}}function Ee(){delete window[j.WINDOW_PROPS.POSTROBOT],window.removeEventListener("message",ve)}q.on=kt;var Oe=L();function Pe(n){var r=q.requestPromises.get(n);if(r)for(var h=0,p=r==null?0:r.length;h<p;h++)r[h].reject(new Error("No response from window - cleaned up"));q.popupWindowsByWin&&q.popupWindowsByWin.delete(n),q.remoteWindows&&q.remoteWindows.delete(n),q.requestPromises.delete(n),q.methods.delete(n),q.readyPromises.delete(n)}var Se=null;function Zt(){var n,r;q.initialized||(r=ve,(n=window).addEventListener?n.addEventListener("message",r):n.attachEvent("onmessage",r),function(){h=function(O){var T=O.source,A=O.origin,C=q.readyPromises.get(T)||new rt;C.resolve({origin:A}),q.readyPromises.set(T,C)},q.on(j.POST_MESSAGE_NAMES.HELLO,{domain:j.WILDCARD},function(O){var T=O.source,A=O.origin;return h({source:T,origin:A})});var h,p=L();p&&ue(p).catch(V)}(),ze({on:kt,send:Et})),q.initialized=!0}Zt(),_.d(g,"cleanUpWindow",function(){return Pe}),_.d(g,"Promise",function(){return rt}),_.d(g,"bridge",function(){return Se}),_.d(g,"init",function(){return Zt}),_.d(g,"parent",function(){return Oe}),_.d(g,"send",function(){return Et}),_.d(g,"request",function(){return Yt}),_.d(g,"sendToParent",function(){return ge}),_.d(g,"client",function(){return me}),_.d(g,"on",function(){return kt}),_.d(g,"listen",function(){return Ft}),_.d(g,"once",function(){return we}),_.d(g,"listener",function(){return be}),_.d(g,"CONFIG",function(){return $}),_.d(g,"CONSTANTS",function(){return j}),_.d(g,"disable",function(){return Ee}),g.default=b}})},727:(x,v,g)=>{x.exports=g(957),x.exports.default=x.exports},979:function(x,v,g){var _=this&&this.__awaiter||function(f,c,o,i){return new(o||(o=Promise))(function(t,a){function s(u){try{e(i.next(u))}catch(d){a(d)}}function l(u){try{e(i.throw(u))}catch(d){a(d)}}function e(u){var d;u.done?t(u.value):(d=u.value,d instanceof o?d:new o(function(y){y(d)})).then(s,l)}e((i=i.apply(f,c||[])).next())})},b=this&&this.__generator||function(f,c){var o,i,t,a,s={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(u){return function(d){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(t=2&d[0]?i.return:d[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,d[1])).done)return t;switch(i=0,t&&(d=[2&d[0],t.value]),d[0]){case 0:case 1:t=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,i=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(!((t=(t=s.trys).length>0&&t[t.length-1])||d[0]!==6&&d[0]!==2)){s=0;continue}if(d[0]===3&&(!t||d[1]>t[0]&&d[1]<t[3])){s.label=d[1];break}if(d[0]===6&&s.label<t[1]){s.label=t[1],t=d;break}if(t&&s.label<t[2]){s.label=t[2],s.ops.push(d);break}t[2]&&s.ops.pop(),s.trys.pop();continue}d=c.call(f,s)}catch(y){d=[6,y],i=0}finally{o=t=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([e,u])}}},S=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(v,"__esModule",{value:!0});var E=S(g(160)),w=function(){function f(c,o,i){this.currentAsset=c.currentAsset,this._emitter=i,this._connection=o;var t=this;this._emitter.on("assetSave",function(a){t.currentAsset=a.data}),this._emitter.on("assetChange",function(a){t._changedData=a.data}),this.getData=this.getData.bind(this),this.setData=this.setData.bind(this),this.syncAsset=this.syncAsset.bind(this),this.updateWidth=this.updateWidth.bind(this),this.onSave=this.onSave.bind(this),this.onChange=this.onChange.bind(this),this.onPublish=this.onPublish.bind(this),this.onUnPublish=this.onUnPublish.bind(this),this.replaceAsset=this.replaceAsset.bind(this)}return f.prototype.getData=function(){return this.currentAsset},f.prototype.setData=function(c){return _(this,void 0,void 0,function(){return b(this,function(o){switch(o.label){case 0:return[4,this._connection.sendToParent("setData",c)];case 1:return o.sent(),[2]}})})},f.prototype.syncAsset=function(){return _(this,void 0,void 0,function(){return b(this,function(c){switch(c.label){case 0:return[4,this._connection.sendToParent("syncAsset")];case 1:return c.sent(),[2]}})})},f.prototype.updateWidth=function(c){return _(this,void 0,void 0,function(){return b(this,function(o){switch(o.label){case 0:if(typeof c!="number")throw new Error("Width must be a number");return[4,this._connection.sendToParent("updateAssetSidebarWidth",c)];case 1:return o.sent(),[2]}})})},f.prototype.replaceAsset=function(c){return _(this,void 0,void 0,function(){return b(this,function(o){switch(o.label){case 0:return[4,(0,E.default)(this._emitter).handleUpload([c],"replace")];case 1:return o.sent(),[2]}})})},f.prototype.onSave=function(c){if(!c||typeof c!="function")throw Error("Callback must be a function");this._emitter.on("assetSave",function(o){c(o.data)})},f.prototype.onChange=function(c){if(!c||typeof c!="function")throw Error("Callback must be a function");this._emitter.on("assetChange",function(o){c(o.data)})},f.prototype.onPublish=function(c){if(!c||typeof c!="function")throw Error("Callback must be a function");this._emitter.on("assetPublish",function(o){c(o.data)})},f.prototype.onUnPublish=function(c){if(!c||typeof c!="function")throw Error("Callback must be a function");this._emitter.on("assetUnPublish",function(o){c(o.data)})},f}();v.default=w},34:function(x,v){var g=this&&this.__assign||function(){return g=Object.assign||function(E){for(var w,f=1,c=arguments.length;f<c;f++)for(var o in w=arguments[f])Object.prototype.hasOwnProperty.call(w,o)&&(E[o]=w[o]);return E},g.apply(this,arguments)},_=this&&this.__awaiter||function(E,w,f,c){return new(f||(f=Promise))(function(o,i){function t(l){try{s(c.next(l))}catch(e){i(e)}}function a(l){try{s(c.throw(l))}catch(e){i(e)}}function s(l){var e;l.done?o(l.value):(e=l.value,e instanceof f?e:new f(function(u){u(e)})).then(t,a)}s((c=c.apply(E,w||[])).next())})},b=this&&this.__generator||function(E,w){var f,c,o,i,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(s){return function(l){return function(e){if(f)throw new TypeError("Generator is already executing.");for(;t;)try{if(f=1,c&&(o=2&e[0]?c.return:e[0]?c.throw||((o=c.return)&&o.call(c),0):c.next)&&!(o=o.call(c,e[1])).done)return o;switch(c=0,o&&(e=[2&e[0],o.value]),e[0]){case 0:case 1:o=e;break;case 4:return t.label++,{value:e[1],done:!1};case 5:t.label++,c=e[1],e=[0];continue;case 7:e=t.ops.pop(),t.trys.pop();continue;default:if(!((o=(o=t.trys).length>0&&o[o.length-1])||e[0]!==6&&e[0]!==2)){t=0;continue}if(e[0]===3&&(!o||e[1]>o[0]&&e[1]<o[3])){t.label=e[1];break}if(e[0]===6&&t.label<o[1]){t.label=o[1],o=e;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(e);break}o[2]&&t.ops.pop(),t.trys.pop();continue}e=w.call(E,t)}catch(u){e=[6,u],c=0}finally{f=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(v,"__esModule",{value:!0}),v.rtePluginInitializer=v.RTEPlugin=void 0;var S=function(E,w){var f=this;this.configCallback=w,this.pluginMetaData={registry:{title:"",toolbar:{inMainToolbar:!0,inHoveringToolbar:!0},isContentstackElement:!0},meta:{id:"",elementType:null,editorCallbacks:{},isDependent:!1}},this.isContainer=!1,this.containerMetaData={registry:{id:this.pluginMetaData.meta.id,title:this.pluginMetaData.registry.title,rootCategory:!1,toolbar:g({},this.pluginMetaData.registry.toolbar)},meta:{id:this.pluginMetaData.meta.id,dependentPlugins:[]}},this.addPlugins=function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];if(f.pluginMetaData.meta.isDependent)throw Error("cannot have another container inside");f.isContainer=!0,c.forEach(function(i){if(i.isContainer)throw Error("cannot have another container inside");i.pluginMetaData.registry.category=f.pluginMetaData.meta.id,f.containerMetaData.meta.dependentPlugins.push(i),i.pluginMetaData.meta.isDependent=!0})},this.on=function(c,o){switch(c){case"beforeChildRender":f.pluginMetaData.registry.beforeChildrenRender=o;break;case"beforeRender":f.pluginMetaData.registry.beforeElementRender=o;break;case"exec":f.pluginMetaData.registry.handleMouseDown=o;break;case"keydown":f.pluginMetaData.meta.editorCallbacks.keydown=o;break;default:f.pluginMetaData.meta.editorCallbacks[c]=o}},this.get=function(c){return _(f,void 0,void 0,function(){var o,i,t=this;return b(this,function(a){switch(a.label){case 0:return[4,this.configCallback(c)];case 1:return o=a.sent(),Object.entries(o).forEach(function(s){var l=s[0],e=s[1];switch(l){case"title":t.pluginMetaData.registry.title=e;break;case"icon":t.pluginMetaData.registry.iconName=e,t.containerMetaData.registry.iconName=e;break;case"display":if(t.pluginMetaData.registry.toolbar={inHoveringToolbar:!1,inMainToolbar:!1},typeof e=="string")switch(e){case"toolbar":t.pluginMetaData.registry.toolbar.inMainToolbar=!0;break;case"hoveringToolbar":t.pluginMetaData.registry.toolbar.inHoveringToolbar=!0}else Array.isArray(e)&&e.forEach(function(d){switch(d){case"toolbar":t.pluginMetaData.registry.toolbar.inMainToolbar=!0;break;case"hoveringToolbar":t.pluginMetaData.registry.toolbar.inHoveringToolbar=!0}});break;case"elementType":if(typeof e=="string"&&e==="inline"||Array.isArray(e)&&e.includes("inline")){var u=t.pluginMetaData.registry.dndOptions;u||(t.pluginMetaData.registry.dndOptions={},u=t.pluginMetaData.registry.dndOptions),u.DisableDND=!0,u.DisableSelectionHalo=!0}t.pluginMetaData.meta.elementType=e;break;case"render":t.pluginMetaData.registry.Component=e;break;case"shouldOverride":t.pluginMetaData.registry.shouldOverride=e}}),i=this.containerMetaData.meta,this.containerMetaData={registry:g(g({},this.containerMetaData.registry),{id:this.pluginMetaData.meta.id,title:this.pluginMetaData.registry.title,rootCategory:!1,toolbar:g({},this.pluginMetaData.registry.toolbar)}),meta:g(g({},i),{id:this.pluginMetaData.meta.id})},[2,this.isContainer?this.containerMetaData:this.pluginMetaData]}})})},this.pluginMetaData.meta.id=E};v.RTEPlugin=S,v.rtePluginInitializer=function(E,w){if(!E||!w)throw Error('Please provide value "id" and "configCallback"');return new S(E,w)}},975:function(x,v,g){var _=this&&this.__createBinding||(Object.create?function(a,s,l,e){e===void 0&&(e=l),Object.defineProperty(a,e,{enumerable:!0,get:function(){return s[l]}})}:function(a,s,l,e){e===void 0&&(e=l),a[e]=s[l]}),b=this&&this.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),S=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l in a)l!=="default"&&Object.prototype.hasOwnProperty.call(a,l)&&_(s,a,l);return b(s,a),s},E=this&&this.__awaiter||function(a,s,l,e){return new(l||(l=Promise))(function(u,d){function y(L){try{R(e.next(L))}catch(I){d(I)}}function P(L){try{R(e.throw(L))}catch(I){d(I)}}function R(L){var I;L.done?u(L.value):(I=L.value,I instanceof l?I:new l(function(J){J(I)})).then(y,P)}R((e=e.apply(a,s||[])).next())})},w=this&&this.__generator||function(a,s){var l,e,u,d,y={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return d={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function P(R){return function(L){return function(I){if(l)throw new TypeError("Generator is already executing.");for(;y;)try{if(l=1,e&&(u=2&I[0]?e.return:I[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,I[1])).done)return u;switch(e=0,u&&(I=[2&I[0],u.value]),I[0]){case 0:case 1:u=I;break;case 4:return y.label++,{value:I[1],done:!1};case 5:y.label++,e=I[1],I=[0];continue;case 7:I=y.ops.pop(),y.trys.pop();continue;default:if(!((u=(u=y.trys).length>0&&u[u.length-1])||I[0]!==6&&I[0]!==2)){y=0;continue}if(I[0]===3&&(!u||I[1]>u[0]&&I[1]<u[3])){y.label=I[1];break}if(I[0]===6&&y.label<u[1]){y.label=u[1],u=I;break}if(u&&y.label<u[2]){y.label=u[2],y.ops.push(I);break}u[2]&&y.ops.pop(),y.trys.pop();continue}I=s.call(a,y)}catch(J){I=[6,J],e=0}finally{l=u=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([R,L])}}},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(v,"__esModule",{value:!0}),v.AppConfig=void 0;var c=f(g(931)),o=S(g(194)),i=g(974),t=function(){function a(s,l,e,u){var d=this;this.stack=function(){return new c.default(d._data.stack,d._connection,{currentBranch:d._additionalData.currentBranch})},this.setInstallationData=function(y){return d._connection.sendToParent("setInstallationData",y).then(i.onData).catch(i.onError)},this.getInstallationData=function(){return d._connection.sendToParent("getInstallationData").then(i.onData).catch(i.onError)},this._data=s,this._connection=l,this._emitter=e,this._additionalData=u,this.setValidity=this.setValidity.bind(this)}return a.prototype.setValidity=function(s,l){return E(this,void 0,void 0,function(){return w(this,function(e){switch(e.label){case 0:if(typeof s!="boolean")throw new TypeError((0,o.default)(o.ERROR_MESSAGES.configPage.setValidity.isValidTypeBoolean));if(l!=null&&l.message&&typeof l.message!="string")throw new TypeError((0,o.default)(o.ERROR_MESSAGES.configPage.setValidity.messageTypeString));return[4,this._connection.sendToParent("setValidity",{isValid:s,options:l}).then(i.onData).catch(i.onError)];case 1:return e.sent(),[2]}})})},a}();v.AppConfig=t},419:function(x,v,g){var _=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(v,"__esModule",{value:!0});var b=_(g(940)),S=function(){function E(w,f,c,o){this.content_type=w.content_type,this._data=w.entry,w.changedData&&(this._changedData=w.changedData),this.locale=w.locale,this._connection=f,this._emitter=c,this._options=o||{};var i=this;this._emitter.on("entrySave",function(t){i._data=t.data}),this._emitter.on("entryChange",function(t){i._changedData=t.data})}return E.prototype.getData=function(){return this._data},E.prototype.getField=function(w,f){var c=(f||{}).useUnsavedSchema,o=c!==void 0&&c,i=(this._options._internalFlags||{}).FieldInstance,t=i===void 0?b.default:i,a=w.split("."),s=o&&this._changedData||this._data,l=this.content_type.schema;if(Object.keys(s).length===0)throw new Error("The data is unsaved. Save the data before requesting the field.");try{var e=!1,u=!1;a.forEach(function(y,P){if(e)u?u=!1:e=!1;else{if(!(l=l.find(function(L){return L.uid===y})))throw Error("schema not found");if(s=s[y],l.data_type!=="group"&&l.data_type!=="global_field"||l.multiple!==!1||a.length===P+1)if(l.data_type!=="group"&&l.data_type!=="global_field"||l.multiple!==!0||a.length===P+1){if(l.data_type==="blocks"&&a.length!==P+1){var R=Object.keys(s[a[P+1]])[0];l=l.blocks.find(function(L){return L.uid===R}),a.length===P+2?s=s[a[P+1]]:(s=s[a[P+1]][R],l=l.schema),e=!0,u=!0}}else l=l.schema,s=s[a[P+1]],e=!0;else l=l.schema}})}catch{throw Error("Invalid uid, Field not found")}var d=new t({uid:w,value:s,schema:l,data_type:l.data_type},this._connection,this._emitter);return delete d.onChange,d},E.prototype.onSave=function(w){if(!w||typeof w!="function")throw Error("Callback must be a function");this._emitter.on("entrySave",function(f){w(f.data)})},E.prototype.onChange=function(w){if(!w||typeof w!="function")throw Error("Callback must be a function");this._emitter.on("entryChange",function(f){w(f.data,f.resolvedData)})},E.prototype.onPublish=function(w){if(!w||typeof w!="function")throw Error("Callback must be a function");this._emitter.on("entryPublish",function(f){w(f.data)})},E.prototype.onUnPublish=function(w){if(!w||typeof w!="function")throw Error("Callback must be a function");this._emitter.on("entryUnPublish",function(f){w(f.data)})},E}();v.default=S},940:function(x,v){var g=this&&this.__awaiter||function(E,w,f,c){return new(f||(f=Promise))(function(o,i){function t(l){try{s(c.next(l))}catch(e){i(e)}}function a(l){try{s(c.throw(l))}catch(e){i(e)}}function s(l){var e;l.done?o(l.value):(e=l.value,e instanceof f?e:new f(function(u){u(e)})).then(t,a)}s((c=c.apply(E,w||[])).next())})},_=this&&this.__generator||function(E,w){var f,c,o,i,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(s){return function(l){return function(e){if(f)throw new TypeError("Generator is already executing.");for(;t;)try{if(f=1,c&&(o=2&e[0]?c.return:e[0]?c.throw||((o=c.return)&&o.call(c),0):c.next)&&!(o=o.call(c,e[1])).done)return o;switch(c=0,o&&(e=[2&e[0],o.value]),e[0]){case 0:case 1:o=e;break;case 4:return t.label++,{value:e[1],done:!1};case 5:t.label++,c=e[1],e=[0];continue;case 7:e=t.ops.pop(),t.trys.pop();continue;default:if(!((o=(o=t.trys).length>0&&o[o.length-1])||e[0]!==6&&e[0]!==2)){t=0;continue}if(e[0]===3&&(!o||e[1]>o[0]&&e[1]<o[3])){t.label=e[1];break}if(e[0]===6&&t.label<o[1]){t.label=o[1],o=e;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(e);break}o[2]&&t.ops.pop(),t.trys.pop();continue}e=w.call(E,t)}catch(u){e=[6,u],c=0}finally{f=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(v,"__esModule",{value:!0});var b=["file","reference","blocks","group","global_field"],S=function(){function E(w,f,c){var o=this;this.uid=w.uid,this.data_type=w.schema.data_type,this.schema=w.schema,this._emitter=c;var i,t,a,s,l=(i=this,a=t=w.value,s=t,i.data_type==="file"&&(t?(a=t,s=i.schema.multiple===!0?t.map(function(u){return u.uid}):t.uid):i.schema.multiple===!0&&(a=[],s=[])),{resolvedData:a,unResolvedData:s});this._data=l.unResolvedData,this._resolvedData=l.resolvedData,this._connection=f,this._self=w.self||!1;var e=this;c.on("updateFields",function(u){var d=(o._self&&"$uid"in e.schema?e.schema.$uid:e.uid).split("."),y=u.data;d.forEach(function(P){y&&(y=y[P])}),e._data!==y&&(e._data=y)})}return E.prototype.setData=function(w){var f=this,c=this,o={data:w,uid:c.uid,self:c._self};return c._self||b.indexOf(c.data_type)===-1&&c.data_type?this._connection.sendToParent("setData",o).then(function(){return f._data=w,Promise.resolve(c)}).catch(function(i){return Promise.reject(i)}):Promise.reject(new Error("Cannot call set data for current field type"))},E.prototype.getData=function(w){var f=(w===void 0?{}:w).resolved;return f!==void 0&&f?this._resolvedData:this._data},E.prototype.setFocus=function(){return g(this,void 0,void 0,function(){return _(this,function(w){switch(w.label){case 0:return[4,this._connection.sendToParent("focus")];case 1:return w.sent(),[2]}})})},E.prototype.onChange=function(w){var f=this;if(!w||typeof w!="function")throw Error("Callback must be a function");this._emitter.on("extensionFieldChange",function(c){f._data=c.data,f._resolvedData=c.data,w(c.data)})},E}();v.default=S},632:function(x,v,g){var _,b=this&&this.__extends||(_=function(l,e){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(u[y]=d[y])},_(l,e)},function(l,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function u(){this.constructor=l}_(l,e),l.prototype=e===null?Object.create(e):(u.prototype=e.prototype,new u)}),S=this&&this.__createBinding||(Object.create?function(l,e,u,d){d===void 0&&(d=u),Object.defineProperty(l,d,{enumerable:!0,get:function(){return e[u]}})}:function(l,e,u,d){d===void 0&&(d=u),l[d]=e[u]}),E=this&&this.__setModuleDefault||(Object.create?function(l,e){Object.defineProperty(l,"default",{enumerable:!0,value:e})}:function(l,e){l.default=e}),w=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var e={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&S(e,l,u);return E(e,l),e},f=this&&this.__awaiter||function(l,e,u,d){return new(u||(u=Promise))(function(y,P){function R(J){try{I(d.next(J))}catch(M){P(M)}}function L(J){try{I(d.throw(J))}catch(M){P(M)}}function I(J){var M;J.done?y(J.value):(M=J.value,M instanceof u?M:new u(function(F){F(M)})).then(R,L)}I((d=d.apply(l,e||[])).next())})},c=this&&this.__generator||function(l,e){var u,d,y,P,R={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return P={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function L(I){return function(J){return function(M){if(u)throw new TypeError("Generator is already executing.");for(;R;)try{if(u=1,d&&(y=2&M[0]?d.return:M[0]?d.throw||((y=d.return)&&y.call(d),0):d.next)&&!(y=y.call(d,M[1])).done)return y;switch(d=0,y&&(M=[2&M[0],y.value]),M[0]){case 0:case 1:y=M;break;case 4:return R.label++,{value:M[1],done:!1};case 5:R.label++,d=M[1],M=[0];continue;case 7:M=R.ops.pop(),R.trys.pop();continue;default:if(!((y=(y=R.trys).length>0&&y[y.length-1])||M[0]!==6&&M[0]!==2)){R=0;continue}if(M[0]===3&&(!y||M[1]>y[0]&&M[1]<y[3])){R.label=M[1];break}if(M[0]===6&&R.label<y[1]){R.label=y[1],y=M;break}if(y&&R.label<y[2]){R.label=y[2],R.ops.push(M);break}y[2]&&R.ops.pop(),R.trys.pop();continue}M=e.call(l,R)}catch(F){M=[6,F],d=0}finally{u=y=0}if(5&M[0])throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}([I,J])}}},o=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(v,"__esModule",{value:!0});var i=o(g(419)),t=w(g(194)),a=o(g(915)),s=function(l){function e(u,d,y){return l.call(this,u,d,y,{_internalFlags:{FieldInstance:a.default}})||this}return b(e,l),e.prototype.getTags=function(u){var d,y=(u||{}).useUnsavedSchema;return y!==void 0&&y&&((d=this._changedData)===null||d===void 0?void 0:d.tags)||this._data.tags},e.prototype.setTags=function(u){return f(this,void 0,void 0,function(){return c(this,function(d){switch(d.label){case 0:if(u===void 0)throw new Error((0,t.default)(t.ERROR_MESSAGES.entryField.entry.tagsShouldNotBeBlank));if(!function(y){return Array.isArray(y)&&y.every(function(P){return typeof P=="string"})}(u))throw new Error((0,t.default)(t.ERROR_MESSAGES.entryField.entry.tagsShouldBeArrayOfStrings));return[4,this._connection.sendToParent("setTags",{tags:u})];case 1:return d.sent(),this._changedData||(this._changedData={}),this._changedData.tags=u,[2,u]}})})},e}(i.default);v.default=s},915:function(x,v){var g=this&&this.__awaiter||function(E,w,f,c){return new(f||(f=Promise))(function(o,i){function t(l){try{s(c.next(l))}catch(e){i(e)}}function a(l){try{s(c.throw(l))}catch(e){i(e)}}function s(l){var e;l.done?o(l.value):(e=l.value,e instanceof f?e:new f(function(u){u(e)})).then(t,a)}s((c=c.apply(E,w||[])).next())})},_=this&&this.__generator||function(E,w){var f,c,o,i,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(s){return function(l){return function(e){if(f)throw new TypeError("Generator is already executing.");for(;t;)try{if(f=1,c&&(o=2&e[0]?c.return:e[0]?c.throw||((o=c.return)&&o.call(c),0):c.next)&&!(o=o.call(c,e[1])).done)return o;switch(c=0,o&&(e=[2&e[0],o.value]),e[0]){case 0:case 1:o=e;break;case 4:return t.label++,{value:e[1],done:!1};case 5:t.label++,c=e[1],e=[0];continue;case 7:e=t.ops.pop(),t.trys.pop();continue;default:if(!((o=(o=t.trys).length>0&&o[o.length-1])||e[0]!==6&&e[0]!==2)){t=0;continue}if(e[0]===3&&(!o||e[1]>o[0]&&e[1]<o[3])){t.label=e[1];break}if(e[0]===6&&t.label<o[1]){t.label=o[1],o=e;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(e);break}o[2]&&t.ops.pop(),t.trys.pop();continue}e=w.call(E,t)}catch(u){e=[6,u],c=0}finally{f=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(v,"__esModule",{value:!0});var b=["file","reference","blocks","group","global_field"],S=function(){function E(w,f,c){var o=this;this.uid=w.uid,this.data_type=w.schema.data_type,this.schema=w.schema,this._emitter=c;var i,t,a,s,l=(i=this,a=t=w.value,s=t,i.data_type==="file"&&(t?(a=t,s=i.schema.multiple===!0?t.map(function(u){return u.uid}):t.uid):i.schema.multiple===!0&&(a=[],s=[])),{resolvedData:a,unResolvedData:s});this._data=l.unResolvedData,this._resolvedData=l.resolvedData,this._connection=f,this._self=w.self||!1;var e=this;c.on("updateFields",function(u){var d=(o._self&&"$uid"in e.schema?e.schema.$uid:e.uid).split("."),y=u.data;d.forEach(function(P){y&&(y=y[P])}),e._data!==y&&(e._data=y)})}return E.prototype.setData=function(w){return g(this,void 0,void 0,function(){var f,c,o=this;return _(this,function(i){return c={data:w,uid:(f=this).uid,self:f._self},f._self||b.indexOf(f.data_type)===-1&&f.data_type?[2,this._connection.sendToParent("setData",c).then(function(){return o._data=w,Promise.resolve(f)}).catch(function(t){return Promise.reject(t)})]:[2,Promise.reject(new Error("Cannot call set data for current field type"))]})})},E.prototype.getData=function(w){var f=(w===void 0?{}:w).resolved;return f!==void 0&&f?this._resolvedData:this._data},E}();v.default=S},663:function(x,v,g){var _=this&&this.__awaiter||function(c,o,i,t){return new(i||(i=Promise))(function(a,s){function l(d){try{u(t.next(d))}catch(y){s(y)}}function e(d){try{u(t.throw(d))}catch(y){s(y)}}function u(d){var y;d.done?a(d.value):(y=d.value,y instanceof i?y:new i(function(P){P(y)})).then(l,e)}u((t=t.apply(c,o||[])).next())})},b=this&&this.__generator||function(c,o){var i,t,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:e(0),throw:e(1),return:e(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function e(u){return function(d){return function(y){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,t&&(a=2&y[0]?t.return:y[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,y[1])).done)return a;switch(t=0,a&&(y=[2&y[0],a.value]),y[0]){case 0:case 1:a=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,t=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||y[0]!==6&&y[0]!==2)){l=0;continue}if(y[0]===3&&(!a||y[1]>a[0]&&y[1]<a[3])){l.label=y[1];break}if(y[0]===6&&l.label<a[1]){l.label=a[1],a=y;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(y);break}a[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(c,l)}catch(P){y=[6,P],t=0}finally{i=a=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([u,d])}}},S=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(v,"__esModule",{value:!0});var E=S(g(727)),w=g(194),f=function(){function c(o,i){this._autoResizingEnabled=!1,this._connection=o||E.default,this._autoResizingEnabled=!1,this._emitter=i,this.updateDimension=this.updateDimension.bind(this),this.enableAutoResizing=this.enableAutoResizing.bind(this),this.disableAutoResizing=this.disableAutoResizing.bind(this),this.closeModal=this.closeModal.bind(this),this.enableAutoResizing()}return c.prototype.updateDimension=function(o){return _(this,void 0,void 0,function(){var i,t,a,s;return b(this,function(l){switch(l.label){case 0:return t=(i=o||{}).height,a=i.width,t!==void 0||a!==void 0?[3,2]:(this._height=Math.ceil(document.documentElement.getBoundingClientRect().height),this._width=Math.ceil(document.documentElement.getBoundingClientRect().width),[4,this._connection.sendToParent("resize",{height:this._height,width:this._width})]);case 1:return l.sent(),[2];case 2:if(s={},t!==void 0&&typeof t!="number")throw new Error(w.ERROR_MESSAGES.entryField.frame.dimensionHeightShouldBeNumber);if(this._height!==t&&(this._height=t,s.height=this._height),a!==void 0&&typeof a!="number")throw new Error(w.ERROR_MESSAGES.entryField.frame.dimensionWidthShouldBeNumber);return this._width!==a&&(this._width=a,s.width=this._width),Object.keys(s).length===0?[3,4]:[4,this._connection.sendToParent("resize",s)];case 3:l.sent(),l.label=4;case 4:return[2]}})})},c.prototype.preventFrameClose=function(o){return _(this,void 0,void 0,function(){return b(this,function(i){switch(i.label){case 0:return[4,this._connection.sendToParent("preventFrameClose",{state:o})];case 1:return i.sent(),[2]}})})},c.prototype.enableAutoResizing=function(){var o=this;return this._autoResizingEnabled||(this._autoResizingEnabled=!0,this.observer=new MutationObserver(function(){return _(o,void 0,void 0,function(){return b(this,function(i){switch(i.label){case 0:return[4,this.updateDimension()];case 1:return[2,i.sent()]}})})}),this.observer.observe(window.document.body,{attributes:!0,childList:!0,subtree:!0})),this},c.prototype.disableAutoResizing=function(){var o;return this._autoResizingEnabled?(this._autoResizingEnabled=!1,(o=this.observer)===null||o===void 0||o.disconnect(),this):this},c.prototype.closeModal=function(){return _(this,void 0,void 0,function(){return b(this,function(o){switch(o.label){case 0:return[4,this._connection.sendToParent("closeModal")];case 1:return o.sent(),[2]}})})},c}();v.default=f},607:function(x,v,g){var _=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(v,"__esModule",{value:!0});var b=_(g(727)),S=_(g(796)),E=g(147);b.default.CONFIG.LOG_LEVEL="error";var w=function(){function f(){}return f.init=function(){var c=this;return this._uiLocation?Promise.resolve(this._uiLocation):S.default.initialize(E.version).then(function(o){return c._uiLocation=new S.default(o),Promise.resolve(c._uiLocation)}).catch(function(o){return Promise.reject(o)})},Object.defineProperty(f,"SDK_VERSION",{get:function(){return E.version},enumerable:!1,configurable:!0}),f}();v.default=w,x.exports=w},65:function(x,v,g){var _=this&&this.__assign||function(){return _=Object.assign||function(w){for(var f,c=1,o=arguments.length;c<o;c++)for(var i in f=arguments[c])Object.prototype.hasOwnProperty.call(f,i)&&(w[i]=f[i]);return w},_.apply(this,arguments)},b=this&&this.__rest||function(w,f){var c={};for(var o in w)Object.prototype.hasOwnProperty.call(w,o)&&f.indexOf(o)<0&&(c[o]=w[o]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(o=Object.getOwnPropertySymbols(w);i<o.length;i++)f.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(w,o[i])&&(c[o[i]]=w[o[i]])}return c};Object.defineProperty(v,"__esModule",{value:!0});var S=g(974),E=function(){function w(f){this._connection=f}return w.prototype.createMetaData=function(f){var c=f.entity_uid,o=f.type,i=o===void 0?"asset":o,t=b(f,["entity_uid","type"]),a={action:"createMetadata",payload:{metadata:_({entity_uid:c,type:i},t)}};return this._connection.sendToParent("stackQuery",a).then(S.onData).catch(S.onError)},w.prototype.retrieveMetaData=function(f){var c=f.uid,o={uid:c,action:"getMetadata",payload:{metadata:{uid:c}}};return this._connection.sendToParent("stackQuery",o).then(S.onData).catch(S.onError)},w.prototype.retrieveAllMetaData=function(f){f===void 0&&(f={});var c={action:"getAllMetadata",params:f};return this._connection.sendToParent("stackQuery",c).then(S.onData).catch(S.onError)},w.prototype.updateMetaData=function(f){var c=f.uid,o=b(f,["uid"]),i={uid:c,action:"updateMetadata",payload:{metadata:_({uid:c},o)}};return this._connection.sendToParent("stackQuery",i).then(S.onData).catch(S.onError)},w.prototype.deleteMetaData=function(f){var c=f.uid,o={uid:c,action:"deleteMetadata",payload:{metadata:{uid:c}}};return this._connection.sendToParent("stackQuery",o).then(S.onData).catch(S.onError)},w}();v.default=E},799:(x,v,g)=>{Object.defineProperty(v,"__esModule",{value:!0});var _=g(974),b=function(){function S(){var E;if(!Object.prototype.hasOwnProperty.call(window,"iframeRef")){var w=(0,_.getPreferredBodyElement)((E=document==null?void 0:document.body)===null||E===void 0?void 0:E.children);window.iframeRef=w}}return S.prototype.setBackgroundElement=function(E){window.iframeRef=E},S}();v.default=b},160:function(x,v,g){var _,b=this&&this.__extends||(_=function(e,u){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(d[P]=y[P])},_(e,u)},function(e,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function d(){this.constructor=e}_(e,u),e.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}),S=this&&this.__awaiter||function(e,u,d,y){return new(d||(d=Promise))(function(P,R){function L(M){try{J(y.next(M))}catch(F){R(F)}}function I(M){try{J(y.throw(M))}catch(F){R(F)}}function J(M){var F;M.done?P(M.value):(F=M.value,F instanceof d?F:new d(function(Z){Z(F)})).then(L,I)}J((y=y.apply(e,u||[])).next())})},E=this&&this.__generator||function(e,u){var d,y,P,R,L={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return R={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function I(J){return function(M){return function(F){if(d)throw new TypeError("Generator is already executing.");for(;L;)try{if(d=1,y&&(P=2&F[0]?y.return:F[0]?y.throw||((P=y.return)&&P.call(y),0):y.next)&&!(P=P.call(y,F[1])).done)return P;switch(y=0,P&&(F=[2&F[0],P.value]),F[0]){case 0:case 1:P=F;break;case 4:return L.label++,{value:F[1],done:!1};case 5:L.label++,y=F[1],F=[0];continue;case 7:F=L.ops.pop(),L.trys.pop();continue;default:if(!((P=(P=L.trys).length>0&&P[P.length-1])||F[0]!==6&&F[0]!==2)){L=0;continue}if(F[0]===3&&(!P||F[1]>P[0]&&F[1]<P[3])){L.label=F[1];break}if(F[0]===6&&L.label<P[1]){L.label=P[1],P=F;break}if(P&&L.label<P[2]){L.label=P[2],L.ops.push(F);break}P[2]&&L.ops.pop(),L.trys.pop();continue}F=u.call(e,L)}catch(Z){F=[6,Z],y=0}finally{d=P=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([J,M])}}},w=this&&this.__spreadArray||function(e,u,d){if(d||arguments.length===2)for(var y,P=0,R=u.length;P<R;P++)!y&&P in u||(y||(y=Array.prototype.slice.call(u,0,P)),y[P]=u[P]);return e.concat(y||Array.prototype.slice.call(u))},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v,"__esModule",{value:!0});var c=f(g(727)),o=f(g(684)),i=g(896),t={};function a(e){return typeof e.data=="string"?Promise.reject(e.data):Promise.resolve(e.data)}function s(e){return Promise.reject(e)}var l=function(e){function u(d){var y=e.call(this,d)||this;return y.getReferences=i.getReferences,y.environment=i.environment,y}return b(u,e),u.Query=function(){var d=e.Query.call(this);return Object.assign(d,{language:i.language,environment:i.environment}),d},u.module=function(d){return d===void 0&&(d=!1),d?"Assets":"Asset"},Object.defineProperty(u,"connection",{get:function(){return t},enumerable:!1,configurable:!0}),u.getRteAssets=function(){return this.connection.sendToParent("stackQuery",{action:"getRteAssets"}).then(a).catch(s)},u.getAssetsOfSpecificTypes=function(d){return d&&typeof d=="string"?this.connection.sendToParent("stackQuery",{action:"getAssetsOfSpecificTypes",asset_type:d}).then(a).catch(s):Promise.reject(new Error("Kindly provide valid parameters"))},u.prototype.publish=function(d){return!d||typeof d!="object"||d instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("publishAsset",d)},u.prototype.unpublish=function(d){return!d||typeof d!="object"||d instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("unpublishAsset",d)},u.handleUpload=function(d,y,P){return S(this,void 0,void 0,function(){var R,L;return E(this,function(I){return d&&d.length?(R=[],Array.from(d).forEach(function(J){var M=new File([J],J.name,{type:J.type});R.push(M)}),L=new Date().getUTCMilliseconds(),[2,function(){return S(this,void 0,void 0,function(){var J,M;return E(this,function(F){switch(F.label){case 0:return F.trys.push([0,2,,3]),J=c.default.on("uploadReady_"+L,function(){return window.parent.postMessage({type:"upload_"+L,upload_type:y,files:R,parentFolderUid:P==null?void 0:P.parentFolderUid,customUploadHandler:P==null?void 0:P.customUploadHandler},"*"),J.cancel(),Promise.resolve({})}),[4,c.default.sendToParent("stackOptionsQuery",{action:"upload_"+L,uid:L})];case 1:return F.sent(),[2,c.default.sendToParent("upload_"+L,{})];case 2:return M=F.sent(),[2,Promise.reject(M)];case 3:return[2]}})})}()]):[2,Promise.reject(new Error("Kindly provide valid parameters"))]})})},u.uploadAsset=function(d,y){return u.handleUpload(d,"upload",y)},u}(o.default);v.default=function(e){return t=e,new Proxy(l,{apply:function(u,d,y){return new(u.bind.apply(u,w([void 0],y,!1)))}})}},684:function(x,v,g){var _=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(v,"__esModule",{value:!0});var b=_(g(212)),S=g(896);function E(c){return typeof c.data=="string"?Promise.reject(c.data):Promise.resolve(c.data)}function w(c){return Promise.reject(c)}var f=function(){function c(o){if(!o)throw new Error("uid is required");this.uid=o,this._query={},this.only=(0,S.transform)("only"),this.except=(0,S.transform)("except"),this.addParam=S.addParam}return c.Query=function(){return new b.default(this.connection,this.module(!0),this.contentTypeUid)},c.create=function(o){var i={payload:o,content_type_uid:this.contentTypeUid,action:"create"+this.module()};return this.connection.sendToParent("stackQuery",i).then(E).catch(w)},c.prototype.update=function(o){return!o||typeof o!="object"||o instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("update"+this.constructor.module(),o)},c.prototype.delete=function(){return this.fetch("delete"+this.constructor.module())},c.prototype.fetch=function(o,i){var t={payload:i,content_type_uid:this.constructor.contentTypeUid,uid:this.uid,params:this._query,action:o||"get"+this.constructor.module()};return i||delete t.payload,this.constructor.contentTypeUid||delete t.content_type_uid,this.constructor.connection.sendToParent("stackQuery",t).then(E).catch(w)},c}();v.default=f},573:function(x,v,g){var _,b=this&&this.__extends||(_=function(t,a){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(s[e]=l[e])},_(t,a)},function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=t}_(t,a),t.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}),S=this&&this.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var l,e=0,u=a.length;e<u;e++)!l&&e in a||(l||(l=Array.prototype.slice.call(a,0,e)),l[e]=a[e]);return t.concat(l||Array.prototype.slice.call(a))},E=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(v,"__esModule",{value:!0});var w=E(g(684)),f=g(896),c={},o="",i=function(t){function a(s){var l=t.call(this,s)||this;return l._query={},l}return b(a,t),a.Query=function(){var s=t.Query.call(this);return Object.assign(s,{language:f.language,environment:f.environment,includeOwner:f.includeOwner,includeContentType:f.includeContentType,includeSchema:f.includeSchema,includeReference:f.includeReference}),s},Object.defineProperty(a,"connection",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(a,"contentTypeUid",{get:function(){return o},enumerable:!1,configurable:!0}),a.module=function(s){return s===void 0&&(s=!1),s?"Entries":"Entry"},a.prototype.getLanguages=function(){return this.fetch("getEntryLanguages")},a.prototype.unlocalize=function(s){return s&&typeof s=="string"?(this._query.locale=s,this.fetch("unlocalizeEntry")):Promise.reject(new Error("Kindly provide valid parameters"))},a.prototype.publish=function(s){return!s||typeof s!="object"||s instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):(this._query={},this.fetch("publishEntry",s))},a.prototype.unpublish=function(s){return!s||typeof s!="object"||s instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):(this._query={},this.fetch("unpublishEntry",s))},a.prototype.setWorkflowStage=function(s){return!s||typeof s!="object"||s instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("setWorkflowStageEntry",s)},a.prototype.update=function(s,l){return!s||typeof s!="object"||s instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):(this._query.locale=l,this.fetch("updateEntry",s))},a}(w.default);v.default=function(t,a){return c=t,o=a,new Proxy(i,{apply:function(s,l,e){var u=new(s.bind.apply(s,S([void 0],e,!1)));return Object.assign(u,{getReferences:f.getReferences,addQuery:f.addQuery,language:f.language,environment:f.environment,includeOwner:f.includeOwner,includeContentType:f.includeContentType,includeSchema:f.includeSchema,includeReference:f.includeReference}),u}})}},701:function(x,v,g){var _,b=this&&this.__extends||(_=function(i,t){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l])},_(i,t)},function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=i}_(i,t),i.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}),S=this&&this.__spreadArray||function(i,t,a){if(a||arguments.length===2)for(var s,l=0,e=t.length;l<e;l++)!s&&l in t||(s||(s=Array.prototype.slice.call(t,0,l)),s[l]=t[l]);return i.concat(s||Array.prototype.slice.call(t))},E=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(v,"__esModule",{value:!0});var w=E(g(573)),f=E(g(684)),c={},o=function(i){function t(a){var s=i.call(this,a)||this;return s.Entry=(0,w.default)(s.constructor.connection,s.uid),s}return b(t,i),Object.defineProperty(t,"connection",{get:function(){return c},enumerable:!1,configurable:!0}),t}(f.default);v.default=function(i){return c=i,new Proxy(o,{apply:function(t,a,s){return new(t.bind.apply(t,S([void 0],s,!1)))}})}},212:function(x,v,g){var _=this&&this.__createBinding||(Object.create?function(e,u,d,y){y===void 0&&(y=d),Object.defineProperty(e,y,{enumerable:!0,get:function(){return u[d]}})}:function(e,u,d,y){y===void 0&&(y=d),e[y]=u[d]}),b=this&&this.__setModuleDefault||(Object.create?function(e,u){Object.defineProperty(e,"default",{enumerable:!0,value:u})}:function(e,u){e.default=u}),S=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var u={};if(e!=null)for(var d in e)d!=="default"&&Object.prototype.hasOwnProperty.call(e,d)&&_(u,e,d);return b(u,e),u};Object.defineProperty(v,"__esModule",{value:!0});var E=S(g(896));function w(e){return typeof e.data=="string"?Promise.reject(e.data):Promise.resolve(e.data)}function f(e){return Promise.reject(e)}var c=function(e){return function(u,d){if(u&&d&&typeof u=="string"&&d!==void 0)return this._query.query[u]=this._query.query.file_size||{},this._query.query[u][e]=d,this;throw Error("Kindly provide valid parameters.")}},o=function(e){var u=e?"$in":"$nin";return function(d,y){if(d&&y&&typeof d=="string"&&Array.isArray(y))return this._query.query[d]=this._query.query[d]||{},this._query.query[d][u]=this._query.query[d][u]||[],this._query.query[d][u]=this._query.query[d][u].concat(y),this;throw Error("Kindly provide valid parameters.")}},i=function(e){return function(u){if(u&&typeof u=="string")return this._query.query[u]=this._query.query[u]||{},this._query.query[u].$exists=e,this;throw Error("Kindly provide valid parameters.")}},t=function(e){return function(){for(var u=[],d=0,y=arguments.length;d<y;d+=1)arguments[d]instanceof l&&arguments[d]._query.query?u.push(arguments[d]._query.query):typeof arguments[d]=="object"&&u.push(arguments[d]);return this._query.query[e]?this._query.query[e]=this._query.query[e].concat(u):this._query.query[e]=u,this}},a=function(e){return function(u){if(u&&typeof u=="string")return this._query[e]=u,this;throw Error("Argument should be a string.")}},s=function(e){return function(u){if(typeof u=="number")return this._query[e]=u,this;throw Error("Argument should be a number.")}},l=function(){function e(u,d,y){this.module=d,this._connection=u,this._query={},this._query.query=this._query.query||{},this.contentTypeUid=y,this.only=E.transform("only"),this.except=E.transform("except"),this.addQuery=E.addQuery,this.lessThan=c("$lt"),this.lessThanOrEqualTo=c("$lte"),this.greaterThan=c("$gt"),this.greaterThanOrEqualTo=c("$gte"),this.notEqualTo=c("$ne"),this.containedIn=o(!0),this.notContainedIn=o(!1),this.exists=i(!0),this.notExists=i(!1),this.ascending=a("asc"),this.descending=a("desc"),this.beforeUid=a("before_uid"),this.afterUid=a("after_uid"),this.skip=s("skip"),this.limit=s("limit"),this.or=t("$or"),this.and=t("$and"),this.addParam=E.addParam}return e.prototype.equalTo=function(u,d){if(u&&typeof u=="string")return this._query.query[u]=d,this;throw Error("Kindly provide valid parameters.")},e.prototype.where=function(u,d){if(u&&typeof u=="string")return this._query.query[u]=d,this;throw Error("Kindly provide valid parameters.")},e.prototype.count=function(){this._query.count=!0;var u={content_type_uid:this.contentTypeUid,params:this._query,action:"get"+this.module};return this._connection.sendToParent("stackQuery",u).then(w).catch(f)},e.prototype.query=function(u){if(typeof u=="object")return this._query.query=E.mergeDeep(this._query.query,u),this;throw Error("Kindly provide valid parameters")},e.prototype.tags=function(u){if(Array.isArray(u))return this._query.tags=u,this;throw Error("Kindly provide valid parameters")},e.prototype.includeCount=function(){return this._query.include_count=!0,this},e.prototype.getQuery=function(){return this._query.query},e.prototype.regex=function(u,d,y){if(u&&d&&typeof u=="string"&&typeof d=="string")return this._query.query[u]={$regex:d},y&&(this._query.query[u].$options=y),this;throw Error("Kindly provide valid parameters.")},e.prototype.search=function(u){if(u&&typeof u=="string")return this._query.typeahead=u,this;throw Error("Kindly provide valid parameters.")},e.prototype.find=function(){var u={content_type_uid:this.contentTypeUid,params:this._query,action:"get"+this.module};return this._connection.sendToParent("stackQuery",u).then(w).catch(f)},e.prototype.findOne=function(){this.singleEntry=!0,this._query.limit=1;var u={content_type_uid:this.contentTypeUid,params:this._query,action:"get"+this.module};return this._connection.sendToParent("stackQuery",u).then(w).catch(f)},e}();v.default=l},931:function(x,v,g){var _=this&&this.__awaiter||function(o,i,t,a){return new(t||(t=Promise))(function(s,l){function e(y){try{d(a.next(y))}catch(P){l(P)}}function u(y){try{d(a.throw(y))}catch(P){l(P)}}function d(y){var P;y.done?s(y.value):(P=y.value,P instanceof t?P:new t(function(R){R(P)})).then(e,u)}d((a=a.apply(o,i||[])).next())})},b=this&&this.__generator||function(o,i){var t,a,s,l,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(d){return function(y){return function(P){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,a&&(s=2&P[0]?a.return:P[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,P[1])).done)return s;switch(a=0,s&&(P=[2&P[0],s.value]),P[0]){case 0:case 1:s=P;break;case 4:return e.label++,{value:P[1],done:!1};case 5:e.label++,a=P[1],P=[0];continue;case 7:P=e.ops.pop(),e.trys.pop();continue;default:if(!((s=(s=e.trys).length>0&&s[s.length-1])||P[0]!==6&&P[0]!==2)){e=0;continue}if(P[0]===3&&(!s||P[1]>s[0]&&P[1]<s[3])){e.label=P[1];break}if(P[0]===6&&e.label<s[1]){e.label=s[1],s=P;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(P);break}s[2]&&e.ops.pop(),e.trys.pop();continue}P=i.call(o,e)}catch(R){P=[6,R],a=0}finally{t=s=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([d,y])}}},S=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(v,"__esModule",{value:!0});var E=S(g(160)),w=S(g(701)),f=g(974),c=function(){function o(i,t,a){i===void 0&&(i={}),this._currentBranch=null,this._connection=t,this._data=i,this.ContentType=(0,w.default)(t),this.Asset=(0,E.default)(t),a.currentBranch&&(this._currentBranch=(i.branches||[]).find(function(s){return s.uid===a.currentBranch})||null)}return o.prototype.getData=function(){return this._data},o.prototype.getAllStacks=function(i){var t=i===void 0?{}:i,a=t.orgUid,s=a===void 0?"":a,l=t.params,e=l===void 0?{}:l;return _(this,void 0,void 0,function(){var u;return b(this,function(d){if(typeof s!="string")throw new TypeError("orgUid must be a string");return u={action:"getStacks",headers:{organization_uid:s||this._data.org_uid},skip_api_key:!0,params:e},[2,this._connection.sendToParent("stackQuery",u).then(f.onData).then(function(y){return y.stacks||[]}).catch(f.onError)]})})},o.prototype.getManagementTokens=function(){return _(this,void 0,void 0,function(){var i,t=this;return b(this,function(a){return i={action:"getManagementTokens"},[2,this._connection.sendToParent("stackQuery",i).then(function(s){return _(t,void 0,void 0,function(){return b(this,function(l){switch(l.label){case 0:return[4,(0,f.onData)(s)];case 1:return[2,l.sent().tokens||[]]}})})}).catch(f.onError)]})})},o.prototype.search=function(i,t){t===void 0&&(t=this._data.api_key);var a={params:i,api_key:t,action:"search"};return this._connection.sendToParent("stackQuery",a).then(f.onData).catch(f.onError)},o.prototype.getContentType=function(i,t){if(t===void 0&&(t={}),!i)return Promise.reject(new Error("uid is required"));var a={uid:i,params:t,action:"getContentType"};return this._connection.sendToParent("stackQuery",a).then(f.onData).catch(f.onError)},o.prototype.getContentTypes=function(i,t){i===void 0&&(i={}),t===void 0&&(t={});var a=t;a.query=i;var s={params:a,action:"getContentTypes"};return this._connection.sendToParent("stackQuery",s).then(f.onData).catch(f.onError)},o.prototype.getEnvironment=function(i,t){if(t===void 0&&(t={}),!i)return Promise.reject(new Error("name is required"));var a={name:i,params:t,action:"getEnvironment"};return this._connection.sendToParent("stackQuery",a).then(f.onData).catch(f.onError)},o.prototype.getEnvironments=function(i,t){i===void 0&&(i={}),t===void 0&&(t={});var a=t;a.query=i;var s={params:a,action:"getEnvironments"};return this._connection.sendToParent("stackQuery",s).then(f.onData).catch(f.onError)},o.prototype.getReleases=function(i,t){i===void 0&&(i={}),t===void 0&&(t={});var a=t;a.query=i;var s={params:a,action:"getReleases"};return this._connection.sendToParent("stackQuery",s).then(f.onData).catch(f.onError)},o.prototype.getPublishes=function(i,t){i===void 0&&(i={}),t===void 0&&(t={});var a=t;a.query=i;var s={params:a,action:"getPublishes"};return this._connection.sendToParent("stackQuery",s).then(f.onData).catch(f.onError)},o.prototype.getLocale=function(i,t){if(t===void 0&&(t={}),!i)return Promise.reject(new Error("code is required"));var a={code:i,params:t,action:"getLocale"};return this._connection.sendToParent("stackQuery",a).then(f.onData).catch(f.onError)},o.prototype.getLocales=function(i,t){i===void 0&&(i={}),t===void 0&&(t={});var a=t;a.query=i;var s={params:a,action:"getLocales"};return this._connection.sendToParent("stackQuery",s).then(f.onData).catch(f.onError)},o.prototype.getWorkflow=function(i,t){if(t===void 0&&(t={}),!i)return Promise.reject(new Error("workflow uid is required"));var a={uid:i,params:t,action:"getWorkflow"};return this._connection.sendToParent("stackQuery",a).then(f.onData).catch(f.onError)},o.prototype.getWorkflows=function(i,t){i===void 0&&(i={}),t===void 0&&(t={});var a=t;a.query=i;var s={params:a,action:"getWorkflows"};return this._connection.sendToParent("stackQuery",s).then(f.onData).catch(f.onError)},o.prototype.getAllBranches=function(){return this._data.branches||[]},o.prototype.getCurrentBranch=function(){return this._currentBranch},o}();v.default=c},896:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.getReferences=v.includeReference=v.includeSchema=v.includeContentType=v.includeOwner=v.environment=v.language=v.addQuery=v.addParam=v._type=v.mergeDeep=v.merge=v.transform=void 0,v.transform=function(g){return function(){switch(arguments.length){case 1:if(Array.isArray(arguments[0])||typeof arguments[0]=="string")return _=(_=this._query[g+"[BASE]"]||[]).concat(arguments[0]),this._query[g+"[BASE]"]=_,this;throw Error("Kindly provide valid parameters");case 2:var _;if(typeof arguments[0]=="string"&&(Array.isArray(arguments[1])||typeof arguments[1]=="string"))return _=(_=this._query[g+"["+arguments[0]+"]"]||[]).concat(arguments[1]),this._query[g+"["+arguments[0]+"]"]=_,this;throw Error("Kindly provide valid parameters");default:throw Error("Kindly provide valid parameters")}}},v.merge=function(g,_){var b=g;return g&&_&&Object.keys(_).forEach(function(S){b[S]=_[S]}),b},v.mergeDeep=function(g,_){var b=g,S=this,E=function(w,f){var c=w;Object.keys(f).forEach(function(o){S._type(f[o])==="object"&&S._type(c[o])===S._type(f[o])?E(c[o],f[o]):S._type(f[o])==="array"&&S._type(c[o])===S._type(f[o])?c[o]=c[o].concat(f[o]):c[o]=f[o]})};return E(b,_),b},v._type=function(g){var _=typeof g;return _==="object"&&Array.isArray(g)&&(_="array"),_},v.addParam=function(g,_){if(g&&typeof g=="string"&&_&&typeof _=="string")return this._query[g]=_,this;throw Error("Kindly provide valid parameters.")},v.addQuery=function(g,_){if(g&&_&&typeof g=="string")return this._query[g]=_,this;throw Error("First argument should be a String.")},v.language=function(g){if(g&&typeof g=="string")return this._query.locale=g,this;throw Error("Argument should be a String.")},v.environment=function(g){if(g&&typeof g=="string")return this._query.environment=g,this;throw Error("Argument should be a String.")},v.includeOwner=function(){return this._query.include_owner=!0,this},v.includeContentType=function(){return this._query.include_content_type=!0,this},v.includeSchema=function(){return this._query.include_schema=!0,this},v.includeReference=function(g){if(Array.isArray(g))for(var _=0;_<g.length;_+=1)this._query["include[]"]=this._query["include[]"]||[],this._query["include[]"]=this._query["include[]"].concat(g[_]);else{if(typeof g!="string")throw Error("Argument should be a String or an Array.");for(_=0;_<arguments.length;_+=1)this._query["include[]"]=this._query["include[]"]||[],this._query["include[]"]=this._query["include[]"].concat(arguments[_])}return this},v.getReferences=function(){return this.fetch("get"+this.constructor.module()+"References")}},923:(x,v,g)=>{Object.defineProperty(v,"__esModule",{value:!0});var _=g(974),b=function(){function S(E){this._connection=E}return S.prototype.get=function(E){if(!E||typeof E!="string")throw new Error("Kindly provide valid parameters");return this._connection.sendToParent("store",{action:"get",key:E}).then(function(w){return Promise.resolve(w.data)}).catch(_.onError)},S.prototype.getAll=function(){return this._connection.sendToParent("store",{action:"getAll"}).then(function(E){var w=E.data,f=w===void 0?{}:w;return Promise.resolve(f)}).catch(_.onError)},S.prototype.set=function(E,w){if(!E||!w||typeof E!="string")throw new Error("Kindly provide valid parameters");return this._connection.sendToParent("store",{action:"set",key:E,value:w}).then(function(){return Promise.resolve(!0)}).catch(_.onError)},S.prototype.remove=function(E){if(!E||typeof E!="string")throw new Error("Kindly provide valid parameters");return this._connection.sendToParent("store",{action:"remove",key:E}).then(function(){return Promise.resolve(!0)}).catch(_.onError)},S.prototype.clear=function(){return this._connection.sendToParent("store",{action:"clear"}).then(function(){return Promise.resolve(!0)}).catch(_.onError)},S}();v.default=b},699:(x,v)=>{var g,_,b,S;Object.defineProperty(v,"__esModule",{value:!0}),v.Region=v.OrganizationLocation=v.StackLocation=v.LocationType=v.DashboardWidth=void 0,(S=v.DashboardWidth||(v.DashboardWidth={})).FULL_WIDTH="full_width",S.HALF_WIDTH="half_width",(b=v.LocationType||(v.LocationType={})).APP_CONFIG_WIDGET="APP_CONFIG_WIDGET",b.ASSET_SIDEBAR_WIDGET="ASSET_SIDEBAR_WIDGET",b.DASHBOARD="DASHBOARD",b.FIELD="FIELD",b.FIELD_MODIFIER_LOCATION="FIELD_MODIFIER_LOCATION",b.FULL_PAGE_LOCATION="FULL_PAGE_LOCATION",b.RTE="RTE",b.WIDGET="WIDGET",(_=v.StackLocation||(v.StackLocation={})).STACK_CONFIG="cs.cm.stack.config",_.DASHBOARD="cs.cm.stack.dashboard",_.SIDEBAR="cs.cm.stack.sidebar",_.CUSTOM_FIELD="cs.cm.stack.custom_field",_.RTE="cs.cm.stack.rte",(v.OrganizationLocation||(v.OrganizationLocation={})).ORG_CONFIG="cs.org.config",(g=v.Region||(v.Region={})).UNKNOWN="UNKNOWN",g.NA="NA",g.EU="EU",g.AZURE_NA="AZURE_NA",g.AZURE_EU="AZURE_EU"},796:function(x,v,g){var _=this&&this.__createBinding||(Object.create?function(Z,j,tt,$){$===void 0&&($=tt),Object.defineProperty(Z,$,{enumerable:!0,get:function(){return j[tt]}})}:function(Z,j,tt,$){$===void 0&&($=tt),Z[$]=j[tt]}),b=this&&this.__setModuleDefault||(Object.create?function(Z,j){Object.defineProperty(Z,"default",{enumerable:!0,value:j})}:function(Z,j){Z.default=j}),S=this&&this.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var j={};if(Z!=null)for(var tt in Z)tt!=="default"&&Object.prototype.hasOwnProperty.call(Z,tt)&&_(j,Z,tt);return b(j,Z),j},E=this&&this.__awaiter||function(Z,j,tt,$){return new(tt||(tt=Promise))(function(z,H){function et(st){try{ot($.next(st))}catch(K){H(K)}}function V(st){try{ot($.throw(st))}catch(K){H(K)}}function ot(st){var K;st.done?z(st.value):(K=st.value,K instanceof tt?K:new tt(function(lt){lt(K)})).then(et,V)}ot(($=$.apply(Z,j||[])).next())})},w=this&&this.__generator||function(Z,j){var tt,$,z,H,et={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return H={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function V(ot){return function(st){return function(K){if(tt)throw new TypeError("Generator is already executing.");for(;et;)try{if(tt=1,$&&(z=2&K[0]?$.return:K[0]?$.throw||((z=$.return)&&z.call($),0):$.next)&&!(z=z.call($,K[1])).done)return z;switch($=0,z&&(K=[2&K[0],z.value]),K[0]){case 0:case 1:z=K;break;case 4:return et.label++,{value:K[1],done:!1};case 5:et.label++,$=K[1],K=[0];continue;case 7:K=et.ops.pop(),et.trys.pop();continue;default:if(!((z=(z=et.trys).length>0&&z[z.length-1])||K[0]!==6&&K[0]!==2)){et=0;continue}if(K[0]===3&&(!z||K[1]>z[0]&&K[1]<z[3])){et.label=K[1];break}if(K[0]===6&&et.label<z[1]){et.label=z[1],z=K;break}if(z&&et.label<z[2]){et.label=z[2],et.ops.push(K);break}z[2]&&et.ops.pop(),et.trys.pop();continue}K=j.call(Z,et)}catch(lt){K=[6,lt],$=0}finally{tt=z=0}if(5&K[0])throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}([ot,st])}}},f=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(v,"__esModule",{value:!0});var c=f(g(727)),o=f(g(795)),i=f(g(979)),t=g(975),a=f(g(419)),s=f(g(940)),l=f(g(632)),e=f(g(915)),u=f(g(663)),d=f(g(65)),y=f(g(799)),P=f(g(931)),R=f(g(923)),L=g(699),I=g(974),J=f(g(362)),M=new o.default,F=function(){function Z(j){var tt,$,z=this;this.pulse=function(V,ot){z.postRobot.sendToParent("analytics",{eventName:V,metadata:ot})},this.getConfig=function(){return z.installationUID?z.postRobot.sendToParent("getConfig").then(I.onData).catch(I.onError):Promise.resolve(z.config)},this.getCurrentLocation=function(){return z.type},this.getAppVersion=function(){return E(z,void 0,void 0,function(){var V,ot,st;return w(this,function(K){switch(K.label){case 0:return this.version?[2,Promise.resolve(this.version)]:this.installationUID?(V=this.stack._data.org_uid,ot={uid:this.installationUID,action:"getAppManifest",headers:{organization_uid:V},skip_api_key:!0},[4,this.postRobot.sendToParent("stackQuery",ot).then(I.onData).catch(I.onError)]):[2,Promise.resolve(null)];case 1:return st=K.sent(),this.version=st.version,[2,this.version]}})})},this.getCurrentRegion=function(){return z.region};var H=j;this.postRobot=c.default,this.appUID=H.app_id,this.locationUID=H.extension_uid,this.installationUID=H.installation_uid,this.currentUser=H.user,this.type=H.type,this.store=new R.default(c.default),this.stack=new P.default(H.stack,c.default,{currentBranch:H.currentBranch}),this.metadata=new d.default(c.default),this.config=(tt=H.config)!==null&&tt!==void 0?tt:{},this.location={DashboardWidget:null,CustomField:null,SidebarWidget:null,RTEPlugin:null,AppConfigWidget:null,AssetSidebarWidget:null,FullPage:null,FieldModifierLocation:null},window.postRobot=c.default,this.modal=new y.default,this.region=(0,I.formatAppRegion)(H.region);var et=new P.default(H.stack,c.default,{currentBranch:H.currentBranch});switch(this.version=(($=H.manifest)===null||$===void 0?void 0:$.version)||null,H.type){case L.LocationType.DASHBOARD:this.location.DashboardWidget={frame:new J.default(c.default,this.type,M,H.dashboard_width),stack:new P.default(H.stack,c.default,{currentBranch:H.currentBranch})};break;case L.LocationType.WIDGET:this.location.SidebarWidget={entry:new a.default(H,c.default,M),stack:new P.default(H.stack,c.default,{currentBranch:H.currentBranch})};break;case L.LocationType.APP_CONFIG_WIDGET:this.location.AppConfigWidget={installation:new t.AppConfig(H,c.default,M,{currentBranch:H.currentBranch}),stack:new P.default(H.stack,c.default,{currentBranch:H.currentBranch})};break;case L.LocationType.ASSET_SIDEBAR_WIDGET:this.location.AssetSidebarWidget=new i.default(H,c.default,M);break;case L.LocationType.RTE:Promise.resolve().then(function(){return S(g(34))}).then(function(V){var ot=V.rtePluginInitializer;z.location.RTEPlugin=ot});break;case L.LocationType.FIELD_MODIFIER_LOCATION:H.self=!0,this.location.FieldModifierLocation={entry:new l.default(H,c.default,M),stack:new P.default(H.stack,c.default,{currentBranch:H.currentBranch}),field:new e.default(H,c.default,M),frame:new u.default(c.default,M)};break;case L.LocationType.FULL_PAGE_LOCATION:this.location.FullPage={stack:et};break;case L.LocationType.FIELD:default:H.self=!0,this.location.CustomField={field:new s.default(H,c.default,M),fieldConfig:H.field_config,entry:new a.default(H,c.default,M),stack:new P.default(H.stack,c.default,{currentBranch:H.currentBranch}),frame:new J.default(c.default,this.type,M)}}try{c.default.on("extensionEvent",function(V){return E(z,void 0,void 0,function(){return w(this,function(ot){return V.data.name==="entrySave"&&(M.emitEvent("entrySave",[{data:V.data.data}]),M.emitEvent("updateFields",[{data:V.data.data}])),V.data.name==="entryChange"&&M.emitEvent("entryChange",[{data:V.data.data,resolvedData:V.data.otherData.resolvedData}]),V.data.name==="entryPublish"&&M.emitEvent("entryPublish",[{data:V.data.data}]),V.data.name==="entryUnPublish"&&M.emitEvent("entryUnPublish",[{data:V.data.data}]),V.data.name==="assetSave"&&(M.emitEvent("assetSave",[{data:V.data.data}]),M.emitEvent("updateFields",[{data:V.data.data}])),V.data.name==="assetChange"&&M.emitEvent("assetChange",[{data:V.data.data}]),V.data.name==="assetPublish"&&M.emitEvent("assetPublish",[{data:V.data.data}]),V.data.name==="assetUnPublish"&&M.emitEvent("assetUnPublish",[{data:V.data.data}]),V.data.name==="dashboardResize"&&M.emitEvent("dashboardResize",[{state:V.data.state}]),V.data.name==="extensionFieldChange"&&M.emitEvent("extensionFieldChange",[{data:V.data.data}]),[2]})})})}catch(V){console.error("Extension Event",V)}}return Z.initialize=function(j){return E(this,void 0,void 0,function(){var tt;return w(this,function($){switch($.label){case 0:return tt={sdkType:"app-sdk"},[4,c.default.sendToParent("init",{version:j,meta:tt})];case 1:return[2,$.sent().data]}})})},Z.prototype.setReady=function(){return this.postRobot.sendToParent("ready")},Z}();v.default=F},194:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ERROR_MESSAGES=void 0,v.ERROR_MESSAGES=Object.freeze({configPage:{setValidity:{isValidTypeBoolean:"isValid should be a boolean",messageTypeString:"message should be a string"}},entryField:{entry:{tagsShouldNotBeBlank:"Tags cannot be blank",tagsShouldBeArrayOfStrings:"Tags must be an array of strings"},frame:{dimensionHeightShouldBeNumber:"Dimension height must be a number",dimensionWidthShouldBeNumber:"Dimension width must be a number"}}}),v.default=function(g){return"Contentstack App SDK: "+g}},974:(x,v,g)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.getPreferredBodyElement=v.formatAppRegion=v.onError=v.onData=void 0;var _=g(699);v.onData=function(b){return typeof b.data=="string"?Promise.reject(b.data):Promise.resolve(b.data)},v.onError=function(b){return Promise.reject(b)},v.formatAppRegion=function(b){switch(b){case"NA":return _.Region.NA;case"EU":return _.Region.EU;case"AZURE_NA":return _.Region.AZURE_NA;case"AZURE_EU":return _.Region.AZURE_EU;default:return _.Region.UNKNOWN}},v.getPreferredBodyElement=function(b){var S,E=1/0,w=["HEADER","NAV","MAIN","SECTION","ARTICLE","ASIDE","FOOTER","DIV"],f=["SCRIPT","NOSCRIPT","STYLE","TEMPLATE"];return Array.from(b).forEach(function(c){var o=w.indexOf(c.nodeName);o>=0&&o<E&&(E=o,S=c)}),S||(S=Array.from(b).find(function(c){return!f.includes(c.nodeName)})),S||b[0]}},362:function(x,v,g){var _=this&&this.__awaiter||function(i,t,a,s){return new(a||(a=Promise))(function(l,e){function u(P){try{y(s.next(P))}catch(R){e(R)}}function d(P){try{y(s.throw(P))}catch(R){e(R)}}function y(P){var R;P.done?l(P.value):(R=P.value,R instanceof a?R:new a(function(L){L(R)})).then(u,d)}y((s=s.apply(i,t||[])).next())})},b=this&&this.__generator||function(i,t){var a,s,l,e,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return e={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e;function d(y){return function(P){return function(R){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,s&&(l=2&R[0]?s.return:R[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,R[1])).done)return l;switch(s=0,l&&(R=[2&R[0],l.value]),R[0]){case 0:case 1:l=R;break;case 4:return u.label++,{value:R[1],done:!1};case 5:u.label++,s=R[1],R=[0];continue;case 7:R=u.ops.pop(),u.trys.pop();continue;default:if(!((l=(l=u.trys).length>0&&l[l.length-1])||R[0]!==6&&R[0]!==2)){u=0;continue}if(R[0]===3&&(!l||R[1]>l[0]&&R[1]<l[3])){u.label=R[1];break}if(R[0]===6&&u.label<l[1]){u.label=l[1],l=R;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(R);break}l[2]&&u.ops.pop(),u.trys.pop();continue}R=t.call(i,u)}catch(L){R=[6,L],s=0}finally{a=l=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([y,P])}}},S=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(v,"__esModule",{value:!0});var E,w=S(g(727)),f=g(699),c={attributes:!0,childList:!0,subtree:!0},o=function(){function i(t,a,s,l){l===void 0&&(l=f.DashboardWidth.HALF_WIDTH),this._connection=t||w.default,this._autoResizingEnabled=!1,this._resizingEnabled=!1,this.type=a,this.state=l,this._emitter=s}return i.prototype.enableResizing=function(){return _(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return this.type!==f.LocationType.DASHBOARD?[2,Promise.resolve()]:(this._resizingEnabled=!0,[4,this._connection.sendToParent("window",{action:"enableResizing"})]);case 1:return t.sent(),[2]}})})},i.prototype.onDashboardResize=function(t){var a=this;if(this.type!==f.LocationType.DASHBOARD)return!1;if(!t||typeof t!="function")throw Error("Callback must be a function");return a._emitter.on("dashboardResize",function(s){a.state=s.state,t(s.state)}),!0},i.prototype.updateHeight=function(t){return _(this,void 0,void 0,function(){return b(this,function(a){switch(a.label){case 0:if(this.type===f.LocationType.DASHBOARD&&this.state===f.DashboardWidth.HALF_WIDTH)return[2,Promise.resolve()];if(!t||isNaN(t))this._height=Math.ceil(document.documentElement.getBoundingClientRect().height);else{if(this._height===t)return[2,Promise.resolve()];this._height=t}return[4,this._connection.sendToParent("resize",this._height)];case 1:return a.sent(),[2]}})})},i.prototype.enableAutoResizing=function(){return this._autoResizingEnabled||this.state===f.DashboardWidth.HALF_WIDTH&&this.type===f.LocationType.DASHBOARD||(this._autoResizingEnabled=!0,(E=new MutationObserver(this.updateHeight.bind(this))).observe(window.document.body,c)),this},i.prototype.disableAutoResizing=function(){return this._autoResizingEnabled?(this._autoResizingEnabled=!1,E.disconnect(),this):this},i.prototype.enablePaddingTop=function(){return _(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,w.default.sendToParent("window",{action:"dashboardEnableTopPadding"})];case 1:return t.sent(),[2]}})})},i.prototype.disablePaddingTop=function(){return _(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,w.default.sendToParent("window",{action:"dashboardDisableTopPadding"})];case 1:return t.sent(),[2]}})})},i}();v.default=o},795:function(x,v,g){var _;(function(b){function S(){}var E=S.prototype,w=b.EventEmitter;function f(i,t){for(var a=i.length;a--;)if(i[a].listener===t)return a;return-1}function c(i){return function(){return this[i].apply(this,arguments)}}function o(i){return typeof i=="function"||i instanceof RegExp||!(!i||typeof i!="object")&&o(i.listener)}E.getListeners=function(i){var t,a,s=this._getEvents();if(i instanceof RegExp)for(a in t={},s)s.hasOwnProperty(a)&&i.test(a)&&(t[a]=s[a]);else t=s[i]||(s[i]=[]);return t},E.flattenListeners=function(i){var t,a=[];for(t=0;t<i.length;t+=1)a.push(i[t].listener);return a},E.getListenersAsObject=function(i){var t,a=this.getListeners(i);return a instanceof Array&&((t={})[i]=a),t||a},E.addListener=function(i,t){if(!o(t))throw new TypeError("listener must be a function");var a,s=this.getListenersAsObject(i),l=typeof t=="object";for(a in s)s.hasOwnProperty(a)&&f(s[a],t)===-1&&s[a].push(l?t:{listener:t,once:!1});return this},E.on=c("addListener"),E.addOnceListener=function(i,t){return this.addListener(i,{listener:t,once:!0})},E.once=c("addOnceListener"),E.defineEvent=function(i){return this.getListeners(i),this},E.defineEvents=function(i){for(var t=0;t<i.length;t+=1)this.defineEvent(i[t]);return this},E.removeListener=function(i,t){var a,s,l=this.getListenersAsObject(i);for(s in l)l.hasOwnProperty(s)&&(a=f(l[s],t))!==-1&&l[s].splice(a,1);return this},E.off=c("removeListener"),E.addListeners=function(i,t){return this.manipulateListeners(!1,i,t)},E.removeListeners=function(i,t){return this.manipulateListeners(!0,i,t)},E.manipulateListeners=function(i,t,a){var s,l,e=i?this.removeListener:this.addListener,u=i?this.removeListeners:this.addListeners;if(typeof t!="object"||t instanceof RegExp)for(s=a.length;s--;)e.call(this,t,a[s]);else for(s in t)t.hasOwnProperty(s)&&(l=t[s])&&(typeof l=="function"?e.call(this,s,l):u.call(this,s,l));return this},E.removeEvent=function(i){var t,a=typeof i,s=this._getEvents();if(a==="string")delete s[i];else if(i instanceof RegExp)for(t in s)s.hasOwnProperty(t)&&i.test(t)&&delete s[t];else delete this._events;return this},E.removeAllListeners=c("removeEvent"),E.emitEvent=function(i,t){var a,s,l,e,u=this.getListenersAsObject(i);for(e in u)if(u.hasOwnProperty(e))for(a=u[e].slice(0),l=0;l<a.length;l++)(s=a[l]).once===!0&&this.removeListener(i,s.listener),s.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(i,s.listener);return this},E.trigger=c("emitEvent"),E.emit=function(i){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(i,t)},E.setOnceReturnValue=function(i){return this._onceReturnValue=i,this},E._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},E._getEvents=function(){return this._events||(this._events={})},S.noConflict=function(){return b.EventEmitter=w,S},(_=(function(){return S}).call(b,g,b,x))===void 0||(x.exports=_)})(typeof window<"u"?window:this||{})},147:x=>{x.exports=JSON.parse('{"name":"@contentstack/app-sdk","version":"2.0.0","types":"dist/src/index.d.ts","description":"The Contentstack App SDK allows you to customize your Contentstack applications.","main":"dist/index.js","repository":"https://github.com/contentstack/app-sdk","scripts":{"prepublish":"npm run build","build":"webpack","test":"jest","test:watch":"jest --watchAll","test:coverage":"jest --coverage --coverageDirectory=\\"coverage\\"","dev":"webpack --watch --mode development","lint":"eslint . --ext .ts --max-warnings=0","docs":"typedoc","prettier":"npx prettier src --check","prettier:fix":"npx prettier src --write","lint:fix":"eslint --fix","prepare":"npm run build && husky install","format":"npm run prettier:fix && npm run lint:fix"},"keywords":[],"author":{"name":"Contentstack","url":"https://www.contentstack.com/"},"maintainers":[{"name":"Deepak Kharah","email":"deepak.kharah@contentstack.com"}],"license":"MIT","devDependencies":{"@babel/core":"^7.2.2","@babel/preset-env":"^7.3.1","@testing-library/jest-dom":"^5.16.5","@types/chai":"^4.2.22","@types/jest":"^27.0.2","@types/react":"^17.0.18","@typescript-eslint/eslint-plugin":"^5.10.1","@typescript-eslint/parser":"^5.10.1","babel-loader":"^9.1.0","chai":"^4.3.4","css-loader":"^5.2.2","eslint":"^8.7.0","eslint-plugin-only-warn":"^1.1.0","husky":"^8.0.0","jest":"^27.3.1","lint-staged":"^13.2.3","react":"^17.0.2","slate":"^0.72.3","ts-jest":"^27.0.7","ts-loader":"^8.1.0","ts-node":"^10.3.0","typedoc":"^0.22.18","typedoc-plugin-rename-defaults":"^0.6.5","typescript":"^4.4.4","webpack":"^5.65.0","webpack-cli":"^4.9.1","webpack-dev-server":"^4.7.3"},"dependencies":{"loader-utils":"^3.2.1","post-robot":"^8.0.31","wolfy87-eventemitter":"^5.2.9"},"files":["dist"],"lint-staged":{"src/**/*.{ts,css,md}":["npm run prettier:fix ","npm run lint:fix"]}}')}},U={},function x(v){var g=U[v];if(g!==void 0)return g.exports;var _=U[v]={exports:{}};return k[v].call(_.exports,_,_.exports,x),_.exports}(607);var k,U})})(Ie);var dn=Ie.exports;const hn=Le(dn);var pn="Expected a function",We="__lodash_hash_undefined__",Ne=1/0,yn="[object Function]",_n="[object GeneratorFunction]",vn="[object Symbol]",gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mn=/^\w*$/,wn=/^\./,bn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,En=/[\\^$.*+?()[\]{}|]/g,On=/\\(\\)?/g,Pn=/^\[object .+?Constructor\]$/,Sn=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,Tn=typeof self=="object"&&self&&self.Object===Object&&self,te=Sn||Tn||Function("return this")();function Dn(m,D){return m==null?void 0:m[D]}function An(m){var D=!1;if(m!=null&&typeof m.toString!="function")try{D=!!(m+"")}catch{}return D}var Rn=Array.prototype,kn=Function.prototype,qe=Object.prototype,Xt=te["__core-js_shared__"],ke=function(){var m=/[^.]+$/.exec(Xt&&Xt.keys&&Xt.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),Ge=kn.toString,ee=qe.hasOwnProperty,Fe=qe.toString,jn=RegExp("^"+Ge.call(ee).replace(En,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=te.Symbol,Mn=Rn.splice,xn=Ue(te,"Map"),qt=Ue(Object,"create"),Me=je?je.prototype:void 0,xe=Me?Me.toString:void 0;function wt(m){var D=-1,k=m?m.length:0;for(this.clear();++D<k;){var U=m[D];this.set(U[0],U[1])}}function Cn(){this.__data__=qt?qt(null):{}}function Ln(m){return this.has(m)&&delete this.__data__[m]}function In(m){var D=this.__data__;if(qt){var k=D[m];return k===We?void 0:k}return ee.call(D,m)?D[m]:void 0}function Wn(m){var D=this.__data__;return qt?D[m]!==void 0:ee.call(D,m)}function Nn(m,D){var k=this.__data__;return k[m]=qt&&D===void 0?We:D,this}wt.prototype.clear=Cn;wt.prototype.delete=Ln;wt.prototype.get=In;wt.prototype.has=Wn;wt.prototype.set=Nn;function St(m){var D=-1,k=m?m.length:0;for(this.clear();++D<k;){var U=m[D];this.set(U[0],U[1])}}function qn(){this.__data__=[]}function Gn(m){var D=this.__data__,k=Bt(D,m);if(k<0)return!1;var U=D.length-1;return k==U?D.pop():Mn.call(D,k,1),!0}function Fn(m){var D=this.__data__,k=Bt(D,m);return k<0?void 0:D[k][1]}function Un(m){return Bt(this.__data__,m)>-1}function Bn(m,D){var k=this.__data__,U=Bt(k,m);return U<0?k.push([m,D]):k[U][1]=D,this}St.prototype.clear=qn;St.prototype.delete=Gn;St.prototype.get=Fn;St.prototype.has=Un;St.prototype.set=Bn;function bt(m){var D=-1,k=m?m.length:0;for(this.clear();++D<k;){var U=m[D];this.set(U[0],U[1])}}function Hn(){this.__data__={hash:new wt,map:new(xn||St),string:new wt}}function zn(m){return Ht(this,m).delete(m)}function Kn(m){return Ht(this,m).get(m)}function Qn(m){return Ht(this,m).has(m)}function $n(m,D){return Ht(this,m).set(m,D),this}bt.prototype.clear=Hn;bt.prototype.delete=zn;bt.prototype.get=Kn;bt.prototype.has=Qn;bt.prototype.set=$n;function Bt(m,D){for(var k=m.length;k--;)if(ir(m[k][0],D))return k;return-1}function Vn(m,D){D=Xn(D,m)?[D]:Jn(D);for(var k=0,U=D.length;m!=null&&k<U;)m=m[rr(D[k++])];return k&&k==U?m:void 0}function Yn(m){if(!He(m)||er(m))return!1;var D=ar(m)||An(m)?jn:Pn;return D.test(or(m))}function Zn(m){if(typeof m=="string")return m;if(re(m))return xe?xe.call(m):"";var D=m+"";return D=="0"&&1/m==-Ne?"-0":D}function Jn(m){return Be(m)?m:nr(m)}function Ht(m,D){var k=m.__data__;return tr(D)?k[typeof D=="string"?"string":"hash"]:k.map}function Ue(m,D){var k=Dn(m,D);return Yn(k)?k:void 0}function Xn(m,D){if(Be(m))return!1;var k=typeof m;return k=="number"||k=="symbol"||k=="boolean"||m==null||re(m)?!0:mn.test(m)||!gn.test(m)||D!=null&&m in Object(D)}function tr(m){var D=typeof m;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?m!=="__proto__":m===null}function er(m){return!!ke&&ke in m}var nr=ne(function(m){m=ur(m);var D=[];return wn.test(m)&&D.push(""),m.replace(bn,function(k,U,x,v){D.push(x?v.replace(On,"$1"):U||k)}),D});function rr(m){if(typeof m=="string"||re(m))return m;var D=m+"";return D=="0"&&1/m==-Ne?"-0":D}function or(m){if(m!=null){try{return Ge.call(m)}catch{}try{return m+""}catch{}}return""}function ne(m,D){if(typeof m!="function"||D&&typeof D!="function")throw new TypeError(pn);var k=function(){var U=arguments,x=D?D.apply(this,U):U[0],v=k.cache;if(v.has(x))return v.get(x);var g=m.apply(this,U);return k.cache=v.set(x,g),g};return k.cache=new(ne.Cache||bt),k}ne.Cache=bt;function ir(m,D){return m===D||m!==m&&D!==D}var Be=Array.isArray;function ar(m){var D=He(m)?Fe.call(m):"";return D==yn||D==_n}function He(m){var D=typeof m;return!!m&&(D=="object"||D=="function")}function sr(m){return!!m&&typeof m=="object"}function re(m){return typeof m=="symbol"||sr(m)&&Fe.call(m)==vn}function ur(m){return m==null?"":Zn(m)}function cr(m,D,k){var U=m==null?void 0:Vn(m,D);return U===void 0?k:U}var lr=cr;const fr=Le(lr),dt=en({invalidConfig:!1,coords:{x:void 0,y:void 0}}),Ce=Nt(),dr=()=>(nn(async()=>{var D,k,U;try{const x=await hn.init();dt.extensionField=x.location.CustomField??void 0,(D=dt.extensionField)==null||D.frame.enableAutoResizing(),dt.locationFields=(k=dt.extensionField)==null?void 0:k.fieldConfig.locationFields,dt.coords=(U=dt.extensionField)==null?void 0:U.field.getData()}catch{console.warn("Unable to find ContentStack instance.")}}),{state:dt,refreshAddress:()=>{var k,U;if(!((k=dt.locationFields)!=null&&k.length))return;const D=(U=dt.extensionField)==null?void 0:U.entry._changedData;Ce.value=dt.locationFields.map(x=>fr(D,x)).join(" ")},address:Ce});function hr(m){return ln(m.value??"empty",()=>$fetch("https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/findAddressCandidates",{query:{singleLine:m.value,forStorage:!1,f:"json"}}),{immediate:!1})}const pr={style:{height:"250px"}},yr=["open"],_r=["onClick"],vr={role:"listbox",style:{"max-height":"200px","overflow-y":"scroll"}},gr={key:0},mr=vt("progress",null,null,-1),wr=[mr],br={key:1},Er=["onClick"],Or={class:"grid"},Sr=rn({__name:"index",async setup(m){let D,k;const{state:U,refreshAddress:x,address:v}=dr(),{data:g,pending:_,refresh:b}=([D,k]=on(()=>hr(v)),D=await D,k(),D),S=Nt(!1),E=()=>{x(),S.value=!S.value,S.value&&b()},w=async f=>{var c;S.value=!1,U.coords=f.location,await((c=U.extensionField)==null?void 0:c.field.setData(f.location))};return(f,c)=>{var o,i;return It(),Lt("div",pr,[vt("details",{role:"list",open:yt(S)},[vt("summary",{"aria-haspopup":"listbox",role:"button",onClick:De(E,["prevent"])}," Locate ",8,_r),vt("ul",vr,[yt(_)?(It(),Lt("li",gr,wr)):(o=yt(g))!=null&&o.candidates.length?(It(!0),Lt(an,{key:2},sn((i=yt(g))==null?void 0:i.candidates,t=>(It(),Lt("li",null,[vt("a",{onClick:De(a=>w(t),["prevent"]),href:"#"},un(t.address),9,Er)]))),256)):(It(),Lt("li",br,"No Results"))])],8,yr),vt("div",Or,[Ae(vt("input",{type:"text",placeholder:"Latitude",readonly:"","onUpdate:modelValue":c[0]||(c[0]=t=>yt(U).coords.y=t)},null,512),[[Re,yt(U).coords.y]]),Ae(vt("input",{type:"text",placeholder:"Longitude",readonly:"","onUpdate:modelValue":c[1]||(c[1]=t=>yt(U).coords.x=t)},null,512),[[Re,yt(U).coords.x]])])])}}});export{Sr as default};
